[{"filePath":"D:\\aligned-your-personal-os-main\\eslint.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\postcss.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\App.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\DashboardLayout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\NavLink.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\NotificationScheduler.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\Sidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ThemeToggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\dashboard\\AIWeeklyPlan.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\dashboard\\DailyHabitsSection.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'generateHealthObjectives'. Either include it or remove the dependency array.","line":164,"column":8,"nodeType":"ArrayExpression","endLine":164,"endColumn":14,"suggestions":[{"desc":"Update the dependencies array to be: [generateHealthObjectives, user]","fix":{"range":[7233,7239],"text":"[generateHealthObjectives, user]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":202,"column":70,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":202,"endColumn":73,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9122,9125],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9122,9125],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport {\r\n    Heart, CheckCircle2, Plus, Droplets, Moon, Footprints,\r\n    Apple, Dumbbell, X, Sparkles, Send, Loader2, Trophy\r\n} from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { useAnalytics } from '@/hooks/useAnalytics';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { supabase } from '@/lib/supabase';\r\n\r\ninterface NonNegotiable {\r\n    id: string;\r\n    text: string;\r\n    completed: boolean;\r\n}\r\n\r\ninterface HealthObjective {\r\n    id: string;\r\n    text: string;\r\n    completed: boolean;\r\n    targetValue?: string;\r\n    icon: string;\r\n    personalizedTip: string;\r\n}\r\n\r\nconst STORAGE_KEY = 'aligned_daily_habits';\r\nconst HEALTH_OBJECTIVES_KEY = 'aligned_health_objectives';\r\nconst HEALTH_PERSONALIZED_KEY = 'aligned_health_personalized';\r\n\r\nconst defaultNonNegotiables: NonNegotiable[] = [\r\n    { id: '1', text: 'Morning meditation or reflection', completed: false },\r\n    { id: '2', text: 'Move your body (any exercise)', completed: false },\r\n    { id: '3', text: 'Learn something new', completed: false },\r\n    { id: '4', text: 'Connect with someone', completed: false },\r\n];\r\n\r\nconst defaultHealthObjectives: HealthObjective[] = [\r\n    { id: 'water', text: 'Daily Hydration Goal', icon: 'droplets', completed: false, targetValue: '8 glasses', personalizedTip: 'Staying hydrated keeps your brain sharp for deep work sessions.' },\r\n    { id: 'sleep', text: 'Quality Sleep Target', icon: 'moon', completed: false, targetValue: '7.5 hours', personalizedTip: 'Consistent sleep is the foundation of peak cognitive performance.' },\r\n    { id: 'movement', text: 'Mindful Movement', icon: 'footprints', completed: false, targetValue: '10,000 steps', personalizedTip: 'Movement breaks help prevent mental fatigue and physical friction.' },\r\n];\r\n\r\nconst iconMap: Record<string, React.ComponentType<{ className?: string }>> = {\r\n    droplets: Droplets,\r\n    moon: Moon,\r\n    footprints: Footprints,\r\n    apple: Apple,\r\n    dumbbell: Dumbbell,\r\n};\r\n\r\nconst placeholders: Record<string, string> = {\r\n    water: \"e.g., I drank 4 glasses today, feeling a bit dehydrated...\",\r\n    sleep: \"e.g., Slept 6 hours, woke up tired, had trouble falling asleep...\",\r\n    activity: \"e.g., Walked 3000 steps, sat at desk most of the day...\",\r\n    nutrition: \"e.g., Had 2 servings of vegetables, skipped breakfast...\",\r\n};\r\n\r\nfunction loadHabitsData(): { nonNegotiables: NonNegotiable[], lastDate: string } {\r\n    const stored = localStorage.getItem(STORAGE_KEY);\r\n    const today = new Date().toISOString().split('T')[0];\r\n\r\n    if (!stored) {\r\n        return { nonNegotiables: defaultNonNegotiables, lastDate: today };\r\n    }\r\n\r\n    try {\r\n        const data = JSON.parse(stored);\r\n        if (data.lastDate !== today) {\r\n            return {\r\n                nonNegotiables: (data.nonNegotiables || defaultNonNegotiables).map((n: NonNegotiable) => ({ ...n, completed: false })),\r\n                lastDate: today\r\n            };\r\n        }\r\n        return data;\r\n    } catch {\r\n        return { nonNegotiables: defaultNonNegotiables, lastDate: today };\r\n    }\r\n}\r\n\r\nfunction loadHealthObjectives(): { objectives: HealthObjective[], lastDate: string } {\r\n    const stored = localStorage.getItem(HEALTH_OBJECTIVES_KEY);\r\n    const today = new Date().toISOString().split('T')[0];\r\n\r\n    if (!stored) return { objectives: defaultHealthObjectives, lastDate: today };\r\n\r\n    try {\r\n        const data = JSON.parse(stored);\r\n        if (data.lastDate !== today) {\r\n            // Reset completion status for a new day but keep the AI generated text\r\n            return {\r\n                objectives: (data.objectives || defaultHealthObjectives).map((o: HealthObjective) => ({ ...o, completed: false })),\r\n                lastDate: today\r\n            };\r\n        }\r\n        return data;\r\n    } catch {\r\n        return { objectives: defaultHealthObjectives, lastDate: today };\r\n    }\r\n}\r\n\r\nconst HABITS_PERSONALIZED_KEY = 'aligned_habits_personalized';\r\nconst HEALTH_PERSONALIZED_USER_KEY = 'aligned_health_personalized_user';\r\n\r\nexport function DailyHabitsSection() {\r\n    const [nonNegotiables, setNonNegotiables] = useState<NonNegotiable[]>([]);\r\n    const [healthObjectives, setHealthObjectives] = useState<HealthObjective[]>([]);\r\n    const [newNonNeg, setNewNonNeg] = useState('');\r\n    const [showAddNonNeg, setShowAddNonNeg] = useState(false);\r\n    const [isGeneratingHealth, setIsGeneratingHealth] = useState(false);\r\n    const { user } = useAuth();\r\n    const { logHabitComplete, logTaskComplete } = useAnalytics(user?.id);\r\n\r\n    // Load data on mount and check for personalization from onboarding\r\n    useEffect(() => {\r\n        const initializeAll = async () => {\r\n            const habitsData = loadHabitsData();\r\n            const healthData = loadHealthObjectives();\r\n\r\n            setNonNegotiables(habitsData.nonNegotiables);\r\n            setHealthObjectives(healthData.objectives);\r\n\r\n            if (user) {\r\n                const habitPersonalized = localStorage.getItem(HABITS_PERSONALIZED_KEY);\r\n                const healthPersonalized = localStorage.getItem(HEALTH_PERSONALIZED_USER_KEY);\r\n\r\n                if (habitPersonalized !== user.id || healthPersonalized !== user.id) {\r\n                    try {\r\n                        const { data: userIdentity, error } = await supabase\r\n                            .from('user_identity')\r\n                            .select('habits_focus, health_focus')\r\n                            .eq('id', user.id)\r\n                            .single();\r\n\r\n                        if (!error && userIdentity) {\r\n                            // Personalize Habits\r\n                            if (habitPersonalized !== user.id && userIdentity.habits_focus) {\r\n                                const habits = userIdentity.habits_focus.split(/[,\\n;]+/).map((h: string) => h.trim()).filter((h: string) => h.length > 2);\r\n                                if (habits.length > 0) {\r\n                                    const personalized = habits.map((h: string, i: number) => ({\r\n                                        id: `onboard-${i}`,\r\n                                        text: h.charAt(0).toUpperCase() + h.slice(1),\r\n                                        completed: false\r\n                                    }));\r\n                                    setNonNegotiables(personalized);\r\n                                    localStorage.setItem(HABITS_PERSONALIZED_KEY, user.id);\r\n                                }\r\n                            }\r\n\r\n                            // Personalize Health Objectives\r\n                            if (healthPersonalized !== user.id && userIdentity.health_focus) {\r\n                                await generateHealthObjectives(userIdentity.health_focus);\r\n                                localStorage.setItem(HEALTH_PERSONALIZED_USER_KEY, user.id);\r\n                            }\r\n                        }\r\n                    } catch (err) {\r\n                        console.error('Error fetching user identity:', err);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        initializeAll();\r\n    }, [user]);\r\n\r\n    const generateHealthObjectives = async (healthFocus: string) => {\r\n        const apiKey = import.meta.env.VITE_GOOGLE_API_KEY;\r\n        if (!apiKey) return;\r\n\r\n        setIsGeneratingHealth(true);\r\n        try {\r\n            const prompt = `Based on the user's health focus: \"${healthFocus}\"\r\n            \r\n            Generate 4 specific, actionable daily health objectives. For each, provide:\r\n            1. A short title (e.g., \"Deep Sleep Mastery\")\r\n            2. A target value (e.g., \"7-8 hours\", \"3 liters\", \"15 mins meditation\")\r\n            3. A personalized tip correlating this to their productivity.\r\n            4. An icon name from this list: \"droplets\", \"moon\", \"footprints\", \"apple\", \"dumbbell\".\r\n\r\n            Return ONLY a JSON array:\r\n            [{\"id\": \"h1\", \"text\": \"...\", \"targetValue\": \"...\", \"personalizedTip\": \"...\", \"icon\": \"...\"}]`;\r\n\r\n            const response = await fetch(\r\n                `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`,\r\n                {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify({\r\n                        contents: [{ parts: [{ text: prompt }] }],\r\n                        generationConfig: { temperature: 0.7, maxOutputTokens: 600 },\r\n                    }),\r\n                }\r\n            );\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                let text = data.candidates?.[0]?.content?.parts?.[0]?.text?.trim() || '';\r\n                if (text.startsWith('```json')) text = text.slice(7);\r\n                if (text.startsWith('```')) text = text.slice(3);\r\n                if (text.endsWith('```')) text = text.slice(0, -3);\r\n\r\n                const objectives = JSON.parse(text.trim()).map((obj: any) => ({ ...obj, completed: false }));\r\n                setHealthObjectives(objectives);\r\n                saveHealthObjectives(objectives);\r\n            }\r\n        } catch (e) {\r\n            console.error('Error generating health goals:', e);\r\n        } finally {\r\n            setIsGeneratingHealth(false);\r\n        }\r\n    };\r\n\r\n    const saveHealthObjectives = (objectives: HealthObjective[]) => {\r\n        const today = new Date().toISOString().split('T')[0];\r\n        localStorage.setItem(HEALTH_OBJECTIVES_KEY, JSON.stringify({\r\n            objectives,\r\n            lastDate: today,\r\n        }));\r\n    };\r\n\r\n    // Save non-negotiables\r\n    useEffect(() => {\r\n        if (nonNegotiables.length > 0) {\r\n            const today = new Date().toISOString().split('T')[0];\r\n            localStorage.setItem(STORAGE_KEY, JSON.stringify({\r\n                nonNegotiables,\r\n                lastDate: today,\r\n            }));\r\n        }\r\n    }, [nonNegotiables]);\r\n\r\n    // Save health objectives\r\n    useEffect(() => {\r\n        if (healthObjectives.length > 0) {\r\n            saveHealthObjectives(healthObjectives);\r\n        }\r\n    }, [healthObjectives]);\r\n\r\n    const toggleNonNegotiable = (id: string) => {\r\n        setNonNegotiables(prev => {\r\n            const updated = prev.map(item =>\r\n                item.id === id ? { ...item, completed: !item.completed } : item\r\n            );\r\n            const item = prev.find(i => i.id === id);\r\n            // Only log if we are marking a habit as completed (not unchecking)\r\n            if (item && !item.completed) {\r\n                logHabitComplete(prev.length + healthObjectives.length);\r\n            }\r\n            return updated;\r\n        });\r\n    };\r\n\r\n    const addNonNegotiable = () => {\r\n        if (!newNonNeg.trim()) return;\r\n        setNonNegotiables(prev => [\r\n            ...prev,\r\n            { id: `custom-${Date.now()}`, text: newNonNeg.trim(), completed: false }\r\n        ]);\r\n        setNewNonNeg('');\r\n        setShowAddNonNeg(false);\r\n    };\r\n\r\n    const removeNonNegotiable = (id: string) => {\r\n        setNonNegotiables(prev => prev.filter(item => item.id !== id));\r\n    };\r\n\r\n    // const updateHealthInput = (id: string, value: string) => { // Removed as per instructions\r\n    //     setHealthEntries(prev => prev.map(entry =>\r\n    //         entry.id === id ? { ...entry, userInput: value } : entry\r\n    //     ));\r\n    // };\r\n\r\n    // const generateAISuggestion = async (id: string) => { // Removed as per instructions\r\n    //     const entry = healthEntries.find(e => e.id === id);\r\n    //     if (!entry || !entry.userInput.trim()) return;\r\n\r\n    //     const apiKey = import.meta.env.VITE_GOOGLE_API_KEY;\r\n\r\n    //     setHealthEntries(prev => prev.map(e =>\r\n    //         e.id === id ? { ...e, isLoading: true } : e\r\n    //     ));\r\n\r\n    //     try {\r\n    //         const prompts: Record<string, string> = {\r\n    //             water: `The user said about their water intake: \"${entry.userInput}\"\r\n\r\n    //     Provide a brief, helpful suggestion (2-3 sentences) about their hydration. Include:\r\n    //     - Whether their intake is adequate (adults need ~8 glasses/2L daily)\r\n    //     - A specific tip to improve if needed\r\n    //     Be encouraging and practical.`,\r\n    //             sleep: `The user said about their sleep: \"${entry.userInput}\"\r\n\r\n    //     Provide a brief, helpful suggestion (2-3 sentences) about their sleep. Include:\r\n    //     - Whether this sounds like adequate rest (adults need 7-9 hours)\r\n    //     - A specific tip to improve sleep quality if needed\r\n    //     Be encouraging and practical.`,\r\n    //             activity: `The user said about their physical activity: \"${entry.userInput}\"\r\n\r\n    //     Provide a brief, helpful suggestion (2-3 sentences) about their activity level. Include:\r\n    //     - Whether they're meeting daily movement goals (10,000 steps or 30 min exercise recommended)\r\n    //     - A specific tip to increase movement if needed\r\n    //     Be encouraging and practical.`,\r\n    //             nutrition: `The user said about their nutrition: \"${entry.userInput}\"\r\n\r\n    //     Provide a brief, helpful suggestion (2-3 sentences) about their diet. Include:\r\n    //     - Whether they're getting enough fruits/vegetables (5 servings recommended)\r\n    //     - A specific tip to improve nutrition if needed\r\n    //     Be encouraging and practical.`,\r\n    //         };\r\n\r\n    //         if (!apiKey) {\r\n    //             const fallbacks: Record<string, string> = {\r\n    //                 water: \"Staying hydrated is key! Aim for 8 glasses daily. Try keeping a water bottle at your desk as a reminder.\",\r\n    //                 sleep: \"Quality sleep is essential for recovery. Try maintaining a consistent sleep schedule and avoiding screens before bed.\",\r\n    //                 activity: \"Every step counts! Even short walks throughout the day add up. Consider taking stairs or a 10-minute walk after meals.\",\r\n    //                 nutrition: \"Great that you're tracking nutrition! Try adding one more serving of vegetables to your next meal.\",\r\n    //             };\r\n    //             setHealthEntries(prev => prev.map(e =>\r\n    //                 e.id === id ? { ...e, aiSuggestion: fallbacks[id] || \"Keep tracking your health habits!\", isLoading: false } : e\r\n    //             ));\r\n    //             return;\r\n    //         }\r\n\r\n    //         const response = await fetch(\r\n    //             `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`,\r\n    //             {\r\n    //                 method: 'POST',\r\n    //                 headers: { 'Content-Type': 'application/json' },\r\n    //                 body: JSON.stringify({\r\n    //                     contents: [{ parts: [{ text: prompts[id] }] }],\r\n    //                     generationConfig: { temperature: 0.7, maxOutputTokens: 150 },\r\n    //                 }),\r\n    //             }\r\n    //         );\r\n\r\n    //         if (response.ok) {\r\n    //             const data = await response.json();\r\n    //             const suggestion = data.candidates?.[0]?.content?.parts?.[0]?.text?.trim() || '';\r\n    //             setHealthEntries(prev => prev.map(e =>\r\n    //                 e.id === id ? { ...e, aiSuggestion: suggestion, isLoading: false } : e\r\n    //             ));\r\n    //         }\r\n    //     } catch (error) {\r\n    //         console.error('Error generating suggestion:', error);\r\n    //         setHealthEntries(prev => prev.map(e =>\r\n    //             e.id === id ? { ...e, aiSuggestion: \"Keep tracking your health habits! Every small step matters.\", isLoading: false } : e\r\n    //         ));\r\n    //     }\r\n    // };\r\n\r\n    const toggleHealthObjective = (id: string) => {\r\n        setHealthObjectives(prev => {\r\n            const updated = prev.map(obj =>\r\n                obj.id === id ? { ...obj, completed: !obj.completed } : obj\r\n            );\r\n            const obj = prev.find(o => o.id === id);\r\n            // Log as a habit completion since health objectives are part of the broader habit system\r\n            if (obj && !obj.completed) {\r\n                logHabitComplete(nonNegotiables.length + prev.length);\r\n            }\r\n            return updated;\r\n        });\r\n    };\r\n\r\n    const completedNonNegs = nonNegotiables.filter(n => n.completed).length;\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Daily Non-Negotiables */}\r\n            <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"rounded-2xl bg-card border border-border/50 p-6 shadow-sm\"\r\n            >\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <div className=\"w-10 h-10 rounded-xl bg-rose-500/10 flex items-center justify-center\">\r\n                            <Heart className=\"w-5 h-5 text-rose-500\" />\r\n                        </div>\r\n                        <div>\r\n                            <h3 className=\"font-semibold text-foreground\">Daily Non-Negotiables</h3>\r\n                            <p className=\"text-xs text-muted-foreground\">Your essential daily commitments</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <span className={`text-sm font-medium ${completedNonNegs === nonNegotiables.length && completedNonNegs > 0 ? 'text-emerald-500' : 'text-muted-foreground'}`}>\r\n                            {completedNonNegs}/{nonNegotiables.length}\r\n                        </span>\r\n                        <Button onClick={() => setShowAddNonNeg(true)} size=\"sm\" variant=\"outline\">\r\n                            <Plus className=\"w-4 h-4\" />\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n\r\n                {showAddNonNeg && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0, height: 0 }}\r\n                        animate={{ opacity: 1, height: 'auto' }}\r\n                        className=\"mb-4 flex gap-2\"\r\n                    >\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Add a non-negotiable...\"\r\n                            value={newNonNeg}\r\n                            onChange={e => setNewNonNeg(e.target.value)}\r\n                            onKeyPress={e => e.key === 'Enter' && addNonNegotiable()}\r\n                            className=\"flex-1 px-3 py-2 rounded-lg bg-secondary border border-border text-foreground placeholder:text-muted-foreground\"\r\n                            autoFocus\r\n                        />\r\n                        <Button onClick={addNonNegotiable} size=\"sm\">Add</Button>\r\n                        <Button onClick={() => setShowAddNonNeg(false)} size=\"sm\" variant=\"ghost\">\r\n                            <X className=\"w-4 h-4\" />\r\n                        </Button>\r\n                    </motion.div>\r\n                )}\r\n\r\n                <div className=\"space-y-2\">\r\n                    {nonNegotiables.map((item, index) => (\r\n                        <motion.div\r\n                            key={item.id}\r\n                            initial={{ opacity: 0, x: -10 }}\r\n                            animate={{ opacity: 1, x: 0 }}\r\n                            transition={{ delay: index * 0.05 }}\r\n                            className={`flex items-center gap-3 p-3 rounded-xl transition-all ${item.completed\r\n                                ? 'bg-emerald-500/10 border border-emerald-500/20'\r\n                                : 'bg-secondary/30 hover:bg-secondary/50'\r\n                                }`}\r\n                        >\r\n                            <button\r\n                                onClick={() => toggleNonNegotiable(item.id)}\r\n                                className={`w-6 h-6 rounded-md flex items-center justify-center shrink-0 transition-colors ${item.completed\r\n                                    ? 'bg-emerald-500 text-white'\r\n                                    : 'bg-secondary border border-border hover:border-emerald-500/50'\r\n                                    }`}\r\n                            >\r\n                                {item.completed && <CheckCircle2 className=\"w-4 h-4\" />}\r\n                            </button>\r\n                            <span className={`flex-1 text-sm ${item.completed ? 'text-muted-foreground line-through' : 'text-foreground'}`}>\r\n                                {item.text}\r\n                            </span>\r\n                            {item.id.startsWith('custom') && (\r\n                                <button\r\n                                    onClick={() => removeNonNegotiable(item.id)}\r\n                                    className=\"text-muted-foreground hover:text-destructive\"\r\n                                >\r\n                                    <X className=\"w-4 h-4\" />\r\n                                </button>\r\n                            )}\r\n                        </motion.div>\r\n                    ))}\r\n                </div>\r\n\r\n                {completedNonNegs === nonNegotiables.length && nonNegotiables.length > 0 && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        className=\"mt-4 p-3 rounded-xl bg-gradient-to-r from-emerald-500/10 to-green-500/10 border border-emerald-500/20\"\r\n                    >\r\n                        <p className=\"text-sm text-emerald-600 font-medium flex items-center gap-2\">\r\n                            <Sparkles className=\"w-4 h-4\" />\r\n                            All non-negotiables complete! You're building your identity.\r\n                        </p>\r\n                    </motion.div>\r\n                )}\r\n            </motion.div>\r\n\r\n            {/* Health Tracking with AI Generated Objectives */}\r\n            <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 0.1 }}\r\n                className=\"rounded-2xl bg-card border border-border/50 p-6 shadow-sm\"\r\n            >\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <div className=\"w-10 h-10 rounded-xl bg-blue-500/10 flex items-center justify-center\">\r\n                            <Dumbbell className=\"w-5 h-5 text-blue-500\" />\r\n                        </div>\r\n                        <div>\r\n                            <h3 className=\"font-semibold text-foreground\">Health Performance</h3>\r\n                            <p className=\"text-xs text-muted-foreground\">AI-personalized daily health targets</p>\r\n                        </div>\r\n                    </div>\r\n                    {isGeneratingHealth && (\r\n                        <div className=\"flex items-center gap-2 text-xs text-primary animate-pulse\">\r\n                            <Sparkles className=\"w-3 h-3\" />\r\n                            Aligning goals...\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                <div className=\"space-y-4\">\r\n                    {healthObjectives.map((obj, index) => {\r\n                        const Icon = iconMap[obj.icon] || Heart;\r\n\r\n                        return (\r\n                            <motion.div\r\n                                key={obj.id}\r\n                                initial={{ opacity: 0, y: 10 }}\r\n                                animate={{ opacity: 1, y: 0 }}\r\n                                transition={{ delay: index * 0.05 }}\r\n                                className={`group p-4 rounded-2xl transition-all border ${obj.completed\r\n                                    ? 'bg-blue-500/5 border-blue-500/20'\r\n                                    : 'bg-secondary/30 border-transparent hover:border-primary/30'\r\n                                    }`}\r\n                            >\r\n                                <div className=\"flex items-start gap-4\">\r\n                                    <div className={`w-12 h-12 rounded-xl flex items-center justify-center shrink-0 transition-colors ${obj.completed ? 'bg-blue-500/20' : 'bg-background border border-border/50'\r\n                                        }`}>\r\n                                        <Icon className={`w-6 h-6 ${obj.completed ? 'text-blue-500' : 'text-muted-foreground'}`} />\r\n                                    </div>\r\n\r\n                                    <div className=\"flex-1 min-w-0\">\r\n                                        <div className=\"flex items-center justify-between mb-1\">\r\n                                            <h4 className={`font-semibold text-sm ${obj.completed ? 'text-muted-foreground line-through' : 'text-foreground'}`}>\r\n                                                {obj.text}\r\n                                            </h4>\r\n                                            <span className=\"text-xs font-mono text-primary bg-primary/10 px-2 py-0.5 rounded-full\">\r\n                                                {obj.targetValue}\r\n                                            </span>\r\n                                        </div>\r\n                                        <p className=\"text-xs text-muted-foreground leading-relaxed mb-3\">\r\n                                            {obj.personalizedTip}\r\n                                        </p>\r\n\r\n                                        <Button\r\n                                            onClick={() => toggleHealthObjective(obj.id)}\r\n                                            size=\"sm\"\r\n                                            className={`w-full transition-all ${obj.completed\r\n                                                ? 'bg-emerald-500/10 text-emerald-500 hover:bg-emerald-500/20 border-emerald-500/20'\r\n                                                : 'bg-primary text-primary-foreground hover:opacity-90 shadow-md shadow-primary/20'\r\n                                                }`}\r\n                                            variant={obj.completed ? 'outline' : 'default'}\r\n                                        >\r\n                                            {obj.completed ? (\r\n                                                <>\r\n                                                    <CheckCircle2 className=\"w-4 h-4 mr-2\" />\r\n                                                    Achieved Today\r\n                                                </>\r\n                                            ) : (\r\n                                                'Mark as Complete'\r\n                                            )}\r\n                                        </Button>\r\n                                    </div>\r\n                                </div>\r\n                            </motion.div>\r\n                        );\r\n                    })}\r\n                </div>\r\n\r\n                {healthObjectives.filter(o => o.completed).length === healthObjectives.length && healthObjectives.length > 0 && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0, scale: 0.95 }}\r\n                        animate={{ opacity: 1, scale: 1 }}\r\n                        className=\"mt-4 p-4 rounded-2xl bg-gradient-to-br from-blue-500/10 to-indigo-500/10 border border-blue-500/20 text-center\"\r\n                    >\r\n                        <p className=\"text-sm text-blue-600 font-bold flex items-center justify-center gap-2\">\r\n                            <Trophy className=\"w-5 h-5\" />\r\n                            Peak Physical State Achieved!\r\n                        </p>\r\n                    </motion.div>\r\n                )}\r\n            </motion.div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\dashboard\\DailyMicroSteps.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\dashboard\\DailyNonNegotiables.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\dashboard\\FocusBlock.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\dashboard\\FocusBlockTimer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\dashboard\\FocusSessions.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'focusTasks.length' and 'generateFocusTasks'. Either include them or remove the dependency array.","line":173,"column":8,"nodeType":"ArrayExpression","endLine":173,"endColumn":24,"suggestions":[{"desc":"Update the dependencies array to be: [focusTasks.length, generateFocusTasks, userIdentities]","fix":{"range":[7042,7058],"text":"[focusTasks.length, generateFocusTasks, userIdentities]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport {\r\n    Play, Pause, RotateCcw, CheckCircle2, Clock, Flame,\r\n    Target, Sparkles, Loader2, Trophy, ListChecks, Plus, X\r\n} from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { BarChart, Bar, XAxis, YAxis, ResponsiveContainer, Tooltip, Cell } from 'recharts';\r\nimport { useFocusSessions } from '@/hooks/useFocusSessions';\r\nimport { useAnalytics } from '@/hooks/useAnalytics';\r\nimport { useGoals } from '@/hooks/useGoals';\r\nimport { useFocusTimer } from '@/contexts/FocusTimerContext';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { getUserStorageKey } from '@/lib/userStorage';\r\n\r\ninterface FocusSessionsProps {\r\n    userIdentities?: { name: string; selected?: boolean }[];\r\n}\r\n\r\nexport function FocusSessions({ userIdentities }: FocusSessionsProps) {\r\n    const { user } = useAuth();\r\n    const { focusData, getTodayStats, getWeekStats } = useFocusSessions(user?.id);\r\n    const { analytics, getWeeklyData } = useAnalytics(user?.id);\r\n    const { getActiveChallenges } = useGoals(user?.id);\r\n    const {\r\n        isRunning,\r\n        timeRemaining,\r\n        totalDuration,\r\n        currentTask,\r\n        mode,\r\n        pomodoroCount,\r\n        startTimer,\r\n        pauseTimer,\r\n        resumeTimer,\r\n        resetTimer,\r\n        finishEarly,\r\n        focusTasks,\r\n        setFocusTasks,\r\n    } = useFocusTimer();\r\n\r\n    const [customMinutes, setCustomMinutes] = useState(45);\r\n    const [isGeneratingTasks, setIsGeneratingTasks] = useState(false);\r\n    const [quarterlyCompletions, setQuarterlyCompletions] = useState<Record<string, string | null>>({});\r\n\r\n    // Custom task creation state\r\n    const [showAddTask, setShowAddTask] = useState(false);\r\n    const [newTaskTitle, setNewTaskTitle] = useState('');\r\n    const [newTaskDuration, setNewTaskDuration] = useState(30);\r\n\r\n    const todayStats = getTodayStats();\r\n    const weeklyData = getWeeklyData();\r\n    const activeChallenges = getActiveChallenges();\r\n\r\n    const totalTasksThisWeek = weeklyData.reduce((sum, d) => sum + d.tasksCompleted, 0);\r\n\r\n    // Load quarterly completions (synchronized with Analytics logic)\r\n    useEffect(() => {\r\n        const key = getUserStorageKey('aligned_quarterly_completions', user?.id);\r\n        const stored = localStorage.getItem(key);\r\n        if (stored) {\r\n            try {\r\n                setQuarterlyCompletions(JSON.parse(stored));\r\n            } catch (e) {\r\n                console.error('Error loading quarterly completions for focus chart:', e);\r\n            }\r\n        } else {\r\n            setQuarterlyCompletions({});\r\n        }\r\n    }, [user?.id]);\r\n\r\n    // Get the last 7 dates for precise daily mapping\r\n    const last7DaysStrings = [];\r\n    for (let i = 0; i < 7; i++) {\r\n        const d = new Date();\r\n        d.setDate(d.getDate() - (6 - i));\r\n        last7DaysStrings.push(d.toISOString().split('T')[0]);\r\n    }\r\n\r\n    const quarterlyProgressTotal = Object.values(quarterlyCompletions).filter(date =>\r\n        date && last7DaysStrings.includes(date)\r\n    ).length;\r\n\r\n    const challengeCheckInsTotal = activeChallenges.reduce((sum, c) => {\r\n        const weeklyCheckIns = c.checkIns.filter(date => last7DaysStrings.includes(date)).length;\r\n        return sum + weeklyCheckIns;\r\n    }, 0);\r\n\r\n    // Map daily data for the 4-metric chart\r\n    const chartData = weeklyData.map((d, idx) => {\r\n        const dateStr = last7DaysStrings[idx];\r\n        const quarterlyForDay = Object.values(quarterlyCompletions).filter(date => date === dateStr).length;\r\n        const challengesForDay = activeChallenges.filter(c => c.checkIns.includes(dateStr)).length;\r\n\r\n        return {\r\n            ...d,\r\n            challenges: challengesForDay,\r\n            quarterly: quarterlyForDay,\r\n        };\r\n    });\r\n\r\n    // Generate identity-based focus tasks\r\n    const generateFocusTasks = async () => {\r\n        const selectedIdentity = userIdentities?.find(i => i.selected)?.name || 'professional';\r\n        const apiKey = import.meta.env.VITE_GOOGLE_API_KEY;\r\n\r\n        if (!apiKey) {\r\n            const fallbackTasks = [\r\n                { id: '1', title: `Deep work: ${selectedIdentity} skill building`, duration: 45, completed: false },\r\n                { id: '2', title: 'Learn something new in your field', duration: 30, completed: false },\r\n                { id: '3', title: 'Review and reflect on progress', duration: 15, completed: false },\r\n            ];\r\n            setFocusTasks(fallbackTasks);\r\n            return;\r\n        }\r\n\r\n        setIsGeneratingTasks(true);\r\n\r\n        try {\r\n            const prompt = `You are a productivity coach. The user identifies as: \"${selectedIdentity}\"\r\n\r\nGenerate 4 focused work sessions tailored to this identity. Each session should help them become better at their craft.\r\n\r\nReturn ONLY a JSON array with this exact format:\r\n[\r\n  {\"id\": \"1\", \"title\": \"Session title (max 50 chars)\", \"duration\": 30, \"completed\": false},\r\n  {\"id\": \"2\", \"title\": \"Session title\", \"duration\": 45, \"completed\": false},\r\n  {\"id\": \"3\", \"title\": \"Session title\", \"duration\": 25, \"completed\": false},\r\n  {\"id\": \"4\", \"title\": \"Session title\", \"duration\": 20, \"completed\": false}\r\n]\r\n\r\nMake titles specific and actionable (e.g., \"Build a portfolio project\" not \"Work on skills\").\r\nVary durations between 15-60 minutes.\r\nReturn only JSON, no other text.`;\r\n\r\n            const response = await fetch(\r\n                `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`,\r\n                {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify({\r\n                        contents: [{ parts: [{ text: prompt }] }],\r\n                        generationConfig: { temperature: 0.8, maxOutputTokens: 500 },\r\n                    }),\r\n                }\r\n            );\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                let text = data.candidates?.[0]?.content?.parts?.[0]?.text?.trim() || '';\r\n\r\n                if (text.startsWith('```json')) text = text.slice(7);\r\n                if (text.startsWith('```')) text = text.slice(3);\r\n                if (text.endsWith('```')) text = text.slice(0, -3);\r\n                text = text.trim();\r\n\r\n                const tasks = JSON.parse(text);\r\n                setFocusTasks(tasks);\r\n                const key = getUserStorageKey('aligned_focus_tasks', user?.id);\r\n                localStorage.setItem(key, JSON.stringify(tasks));\r\n            }\r\n        } catch (error) {\r\n            console.error('Error generating tasks:', error);\r\n        } finally {\r\n            setIsGeneratingTasks(false);\r\n        }\r\n    };\r\n\r\n    // Load or generate tasks on mount\r\n    useEffect(() => {\r\n        if (focusTasks.length === 0 && userIdentities && userIdentities.length > 0) {\r\n            generateFocusTasks();\r\n        }\r\n    }, [userIdentities]);\r\n\r\n    const handleStartTask = (task: typeof focusTasks[0]) => {\r\n        startTimer(task.duration, task, 'focus');\r\n    };\r\n\r\n    const handleStartFocus = () => {\r\n        startTimer(customMinutes, undefined, 'focus');\r\n    };\r\n\r\n    const handleAddCustomTask = () => {\r\n        if (!newTaskTitle.trim()) return;\r\n\r\n        const newTask = {\r\n            id: `custom-${Date.now()}`,\r\n            title: newTaskTitle.trim(),\r\n            duration: newTaskDuration,\r\n            completed: false,\r\n        };\r\n\r\n        const updatedTasks = [...focusTasks, newTask];\r\n        setFocusTasks(updatedTasks);\r\n        const key = getUserStorageKey('aligned_focus_tasks', user?.id);\r\n        localStorage.setItem(key, JSON.stringify(updatedTasks));\r\n\r\n        setNewTaskTitle('');\r\n        setNewTaskDuration(30);\r\n        setShowAddTask(false);\r\n    };\r\n\r\n    const formatTime = (seconds: number) => {\r\n        const mins = Math.floor(seconds / 60);\r\n        const secs = seconds % 60;\r\n        return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\r\n    };\r\n\r\n    const progress = totalDuration > 0 ? ((totalDuration - timeRemaining) / totalDuration) * 100 : 0;\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* AI Focus Tasks */}\r\n            <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"rounded-2xl bg-card border border-border/50 p-6 shadow-sm\"\r\n            >\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <div className=\"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center\">\r\n                            <Target className=\"w-5 h-5 text-primary\" />\r\n                        </div>\r\n                        <div>\r\n                            <h3 className=\"font-semibold text-foreground\">Focus Tasks</h3>\r\n                            <p className=\"text-xs text-muted-foreground\">AI-generated based on your identity</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex gap-2\">\r\n                        <Button\r\n                            onClick={() => setShowAddTask(true)}\r\n                            disabled={isRunning}\r\n                            variant=\"outline\"\r\n                            size=\"sm\"\r\n                        >\r\n                            <Plus className=\"w-4 h-4 mr-1\" />\r\n                            Add Task\r\n                        </Button>\r\n                        <Button\r\n                            onClick={generateFocusTasks}\r\n                            disabled={isGeneratingTasks || isRunning}\r\n                            variant=\"outline\"\r\n                            size=\"sm\"\r\n                        >\r\n                            {isGeneratingTasks ? (\r\n                                <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                            ) : (\r\n                                <>\r\n                                    <Sparkles className=\"w-4 h-4 mr-1\" />\r\n                                    Regenerate\r\n                                </>\r\n                            )}\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Custom Task Form */}\r\n                <AnimatePresence>\r\n                    {showAddTask && (\r\n                        <motion.div\r\n                            initial={{ opacity: 0, height: 0 }}\r\n                            animate={{ opacity: 1, height: 'auto' }}\r\n                            exit={{ opacity: 0, height: 0 }}\r\n                            className=\"mb-4 p-4 rounded-xl bg-gradient-to-br from-primary/10 to-violet/10 border border-primary/20\"\r\n                        >\r\n                            <div className=\"flex items-center justify-between mb-3\">\r\n                                <h4 className=\"font-medium text-foreground flex items-center gap-2\">\r\n                                    <Plus className=\"w-4 h-4 text-primary\" />\r\n                                    Add Custom Task\r\n                                </h4>\r\n                                <button onClick={() => setShowAddTask(false)} className=\"text-muted-foreground hover:text-foreground\">\r\n                                    <X className=\"w-4 h-4\" />\r\n                                </button>\r\n                            </div>\r\n\r\n                            <div className=\"space-y-3\">\r\n                                <div>\r\n                                    <label className=\"text-xs text-muted-foreground mb-1 block\">Task Title</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        placeholder=\"e.g., Complete project documentation\"\r\n                                        value={newTaskTitle}\r\n                                        onChange={(e) => setNewTaskTitle(e.target.value)}\r\n                                        onKeyPress={(e) => e.key === 'Enter' && handleAddCustomTask()}\r\n                                        className=\"w-full px-3 py-2 rounded-lg bg-background border border-border/50 text-foreground placeholder:text-muted-foreground\"\r\n                                        autoFocus\r\n                                    />\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <label className=\"text-xs text-muted-foreground mb-1 block\">Duration (minutes)</label>\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                        <input\r\n                                            type=\"number\"\r\n                                            placeholder=\"Enter minutes\"\r\n                                            min=\"1\"\r\n                                            max=\"180\"\r\n                                            value={newTaskDuration || ''}\r\n                                            onChange={(e) => setNewTaskDuration(e.target.value === '' ? 0 : Number(e.target.value))}\r\n                                            className=\"w-full px-3 py-2 rounded-lg bg-background border border-border/50 text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n                                        />\r\n                                        <span className=\"text-sm text-muted-foreground whitespace-nowrap\">min</span>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <Button\r\n                                    onClick={handleAddCustomTask}\r\n                                    disabled={!newTaskTitle.trim()}\r\n                                    className=\"w-full bg-gradient-to-r from-primary to-violet\"\r\n                                >\r\n                                    <Plus className=\"w-4 h-4 mr-2\" />\r\n                                    Add Task ({newTaskDuration} min)\r\n                                </Button>\r\n                            </div>\r\n                        </motion.div>\r\n                    )}\r\n                </AnimatePresence>\r\n\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n                    {focusTasks.map((task) => (\r\n                        <motion.div\r\n                            key={task.id}\r\n                            initial={{ opacity: 0, x: -10 }}\r\n                            animate={{ opacity: 1, x: 0 }}\r\n                            className={`p-4 rounded-xl border transition-all ${task.completed\r\n                                ? 'bg-emerald-500/10 border-emerald-500/20'\r\n                                : currentTask?.id === task.id\r\n                                    ? 'bg-primary/10 border-primary/30'\r\n                                    : 'bg-secondary/30 border-border/50 hover:border-primary/30'\r\n                                }`}\r\n                        >\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <div className=\"flex-1\">\r\n                                    <p className={`text-sm font-medium ${task.completed ? 'text-muted-foreground line-through' : 'text-foreground'}`}>\r\n                                        {task.title}\r\n                                    </p>\r\n                                    <p className=\"text-xs text-muted-foreground flex items-center gap-1 mt-1\">\r\n                                        <Clock className=\"w-3 h-3\" />\r\n                                        {task.duration} min\r\n                                    </p>\r\n                                </div>\r\n                                {task.completed ? (\r\n                                    <CheckCircle2 className=\"w-5 h-5 text-emerald-500 shrink-0\" />\r\n                                ) : currentTask?.id === task.id ? (\r\n                                    <span className=\"text-sm font-mono text-primary\">{formatTime(timeRemaining)}</span>\r\n                                ) : (\r\n                                    <Button\r\n                                        onClick={() => handleStartTask(task)}\r\n                                        disabled={isRunning}\r\n                                        size=\"sm\"\r\n                                        className=\"shrink-0\"\r\n                                    >\r\n                                        <Play className=\"w-4 h-4 mr-1\" />\r\n                                        Start\r\n                                    </Button>\r\n                                )}\r\n                            </div>\r\n                        </motion.div>\r\n                    ))}\r\n                </div>\r\n            </motion.div>\r\n\r\n            {/* Timer + Stats Grid */}\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n                {/* Timer Card */}\r\n                <motion.div\r\n                    initial={{ opacity: 0, y: 20 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    transition={{ delay: 0.1 }}\r\n                    className=\"rounded-2xl bg-card border border-border/50 p-6 shadow-sm\"\r\n                >\r\n                    {/* Current Task Label */}\r\n                    {currentTask && (\r\n                        <div className=\"mb-4 p-3 rounded-xl bg-primary/10 border border-primary/20\">\r\n                            <p className=\"text-sm text-primary font-medium\">{currentTask.title}</p>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Duration Selector (only when not running) */}\r\n                    {!isRunning && !currentTask && (\r\n                        <div className=\"mb-6\">\r\n                            <label className=\"text-sm text-muted-foreground mb-2 block\">Duration (minutes)</label>\r\n                            <div className=\"flex gap-2\">\r\n                                {[25, 45, 60, 90].map(mins => (\r\n                                    <button\r\n                                        key={mins}\r\n                                        onClick={() => setCustomMinutes(mins)}\r\n                                        className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${customMinutes === mins\r\n                                            ? 'bg-primary/20 text-primary border border-primary/30'\r\n                                            : 'bg-secondary/30 text-muted-foreground hover:text-foreground'\r\n                                            }`}\r\n                                    >\r\n                                        {mins}m\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n\r\n\r\n                    {/* Timer Display */}\r\n                    <div className=\"flex flex-col items-center\">\r\n                        <div className=\"relative mb-6\">\r\n                            <svg className=\"w-40 h-40 transform -rotate-90\">\r\n                                <circle cx=\"80\" cy=\"80\" r=\"72\" stroke=\"currentColor\" strokeWidth=\"8\" fill=\"none\" className=\"text-secondary\" />\r\n                                <motion.circle\r\n                                    cx=\"80\"\r\n                                    cy=\"80\"\r\n                                    r=\"72\"\r\n                                    stroke={mode === 'pomodoro-break' ? 'hsl(142, 76%, 36%)' : 'url(#focusGrad)'}\r\n                                    strokeWidth=\"8\"\r\n                                    fill=\"none\"\r\n                                    strokeLinecap=\"round\"\r\n                                    strokeDasharray={2 * Math.PI * 72}\r\n                                    animate={{ strokeDashoffset: 2 * Math.PI * 72 * (1 - progress / 100) }}\r\n                                    transition={{ duration: 0.5 }}\r\n                                />\r\n                                <defs>\r\n                                    <linearGradient id=\"focusGrad\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\r\n                                        <stop offset=\"0%\" stopColor=\"hsl(var(--primary))\" />\r\n                                        <stop offset=\"100%\" stopColor=\"hsl(262, 83%, 58%)\" />\r\n                                    </linearGradient>\r\n                                </defs>\r\n                            </svg>\r\n                            <div className=\"absolute inset-0 flex flex-col items-center justify-center\">\r\n                                <span className=\"text-4xl font-bold text-foreground\">\r\n                                    {isRunning || timeRemaining > 0 ? formatTime(timeRemaining) : formatTime(customMinutes * 60)}\r\n                                </span>\r\n                                <span className=\"text-xs text-muted-foreground mt-1\">\r\n                                    {mode === 'pomodoro-break' ? 'G Break' : '= Focus'}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"flex gap-3\">\r\n                            {!isRunning ? (\r\n                                <Button onClick={handleStartFocus} size=\"lg\" className=\"bg-gradient-to-r from-primary to-violet hover:opacity-90 px-8\">\r\n                                    <Play className=\"w-5 h-5 mr-2\" />\r\n                                    Start\r\n                                </Button>\r\n                            ) : (\r\n                                <>\r\n                                    <Button onClick={pauseTimer} variant=\"outline\" size=\"lg\">\r\n                                        <Pause className=\"w-5 h-5 mr-2\" />\r\n                                        Pause\r\n                                    </Button>\r\n                                    <Button onClick={finishEarly} size=\"lg\" className=\"bg-emerald-600 hover:bg-emerald-700\">\r\n                                        <CheckCircle2 className=\"w-5 h-5 mr-2\" />\r\n                                        Done\r\n                                    </Button>\r\n                                </>\r\n                            )}\r\n                            {(isRunning || timeRemaining > 0) && (\r\n                                <Button onClick={resetTimer} variant=\"ghost\" size=\"lg\">\r\n                                    <RotateCcw className=\"w-5 h-5\" />\r\n                                </Button>\r\n                            )}\r\n                        </div>\r\n\r\n                        {!isRunning && timeRemaining > 0 && (\r\n                            <Button onClick={resumeTimer} className=\"mt-3\" variant=\"outline\">\r\n                                <Play className=\"w-4 h-4 mr-2\" />\r\n                                Resume ({formatTime(timeRemaining)} left)\r\n                            </Button>\r\n                        )}\r\n                    </div>\r\n                </motion.div>\r\n\r\n                {/* Stats Card */}\r\n                <motion.div\r\n                    initial={{ opacity: 0, y: 20 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    transition={{ delay: 0.2 }}\r\n                    className=\"rounded-2xl bg-card border border-border/50 p-6 shadow-sm flex flex-col\"\r\n                >\r\n                    <h3 className=\"font-semibold text-foreground mb-4\">Today's Progress</h3>\r\n\r\n                    <div className=\"grid grid-cols-3 gap-3 mb-6\">\r\n                        <div className=\"bg-secondary/30 rounded-xl p-4 text-center\">\r\n                            <Clock className=\"w-5 h-5 text-primary mx-auto mb-2\" />\r\n                            <p className=\"text-2xl font-bold text-foreground\">{todayStats.minutes}</p>\r\n                            <p className=\"text-xs text-muted-foreground\">minutes</p>\r\n                        </div>\r\n                        <div className=\"bg-secondary/30 rounded-xl p-4 text-center\">\r\n                            <Target className=\"w-5 h-5 text-emerald-500 mx-auto mb-2\" />\r\n                            <p className=\"text-2xl font-bold text-foreground\">{todayStats.sessions}</p>\r\n                            <p className=\"text-xs text-muted-foreground\">sessions</p>\r\n                        </div>\r\n                        <div className=\"bg-secondary/30 rounded-xl p-4 text-center\">\r\n                            <Flame className=\"w-5 h-5 text-orange-500 mx-auto mb-2\" />\r\n                            <p className=\"text-2xl font-bold text-foreground\">{analytics.currentStreak}</p>\r\n                            <p className=\"text-xs text-muted-foreground\">day streak</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <h4 className=\"text-sm font-medium text-foreground mb-3\">This Week</h4>\r\n                    <div className=\"h-40 flex-1\">\r\n                        <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                            <BarChart data={chartData} margin={{ top: 5, right: 5, bottom: 0, left: -20 }}>\r\n                                <XAxis dataKey=\"day\" axisLine={false} tickLine={false} tick={{ fontSize: 11, fill: 'hsl(var(--muted-foreground))' }} />\r\n                                <YAxis axisLine={false} tickLine={false} tick={{ fontSize: 11, fill: 'hsl(var(--muted-foreground))' }} />\r\n                                <Tooltip\r\n                                    contentStyle={{\r\n                                        backgroundColor: 'hsl(var(--card))',\r\n                                        border: '1px solid hsl(var(--border))',\r\n                                        borderRadius: '8px',\r\n                                        fontSize: '12px',\r\n                                        color: 'hsl(var(--foreground))',\r\n                                    }}\r\n                                    labelStyle={{\r\n                                        color: 'hsl(var(--foreground))',\r\n                                        fontWeight: 600,\r\n                                    }}\r\n                                    itemStyle={{\r\n                                        color: 'hsl(var(--muted-foreground))',\r\n                                    }}\r\n                                    cursor={{ fill: 'hsl(var(--secondary))', opacity: 0.2 }}\r\n                                    formatter={(value: number, name: string) => {\r\n                                        switch (name) {\r\n                                            case 'focusMinutes': return [`${value} mins`, 'Focus'];\r\n                                            case 'tasksCompleted': return [`${value}`, 'Tasks'];\r\n                                            default: return null;\r\n                                        }\r\n                                    }}\r\n                                />\r\n                                <Bar dataKey=\"focusMinutes\" stackId=\"a\" radius={[4, 4, 0, 0]}>\r\n                                    {chartData.map((entry, index) => (\r\n                                        <Cell key={`cell-focus-${index}`} fill=\"hsl(var(--primary))\" opacity={entry.focusMinutes > 0 ? 1 : 0.1} />\r\n                                    ))}\r\n                                </Bar>\r\n                                <Bar dataKey=\"tasksCompleted\" stackId=\"b\" radius={[4, 4, 0, 0]}>\r\n                                    {chartData.map((entry, index) => (\r\n                                        <Cell key={`cell-tasks-${index}`} fill=\"#10b981\" opacity={entry.tasksCompleted > 0 ? 0.8 : 0.1} />\r\n                                    ))}\r\n                                </Bar>\r\n                            </BarChart>\r\n                        </ResponsiveContainer>\r\n                    </div>\r\n\r\n                    <div className=\"mt-4 pt-4 border-t border-border/30 grid grid-cols-2 gap-2 text-xs\">\r\n                        <div className=\"flex justify-between\">\r\n                            <span className=\"text-muted-foreground\">Tasks completed this week</span>\r\n                            <span className=\"font-bold text-foreground\">{totalTasksThisWeek}</span>\r\n                        </div>\r\n                        <div className=\"flex justify-between text-right\">\r\n                            <span className=\"text-muted-foreground mr-2\">Focus time</span>\r\n                            <span className=\"font-bold text-foreground\">{focusData.totalMinutes}m</span>\r\n                        </div>\r\n                    </div>\r\n                </motion.div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\dashboard\\FrictionAlerts.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'aiInsight' and 'generateAIInsight'. Either include them or remove the dependency array.","line":81,"column":8,"nodeType":"ArrayExpression","endLine":81,"endColumn":30,"suggestions":[{"desc":"Update the dependencies array to be: [aiInsight, generateAIInsight, recentEntries.length]","fix":{"range":[3251,3273],"text":"[aiInsight, generateAIInsight, recentEntries.length]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { AlertTriangle, Lightbulb, TrendingDown, TrendingUp, Clock, Zap, Target, Brain, RefreshCw } from 'lucide-react';\r\nimport { useAnalytics } from '@/hooks/useAnalytics';\r\nimport { useJournal } from '@/hooks/useJournal';\r\nimport { Button } from '@/components/ui/button';\r\n\r\ninterface FrictionAlert {\r\n    id: string;\r\n    type: 'warning' | 'insight' | 'encouragement' | 'ai';\r\n    icon: React.ComponentType<{ className?: string }>;\r\n    title: string;\r\n    message: string;\r\n    color: string;\r\n}\r\n\r\nexport function FrictionAlerts() {\r\n    const { analytics, getWeeklyData } = useAnalytics();\r\n    const { getWeeklySummary, getRecentEntries } = useJournal();\r\n    const [aiInsight, setAiInsight] = useState<string | null>(null);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const weeklyData = getWeeklyData();\r\n    const journalSummary = getWeeklySummary();\r\n    const recentEntries = getRecentEntries(3);\r\n\r\n    // Generate AI insight based on journal entries\r\n    const generateAIInsight = async () => {\r\n        const apiKey = import.meta.env.VITE_GOOGLE_API_KEY;\r\n        if (!apiKey || recentEntries.length === 0) return;\r\n\r\n        setIsLoading(true);\r\n        try {\r\n            const entriesText = recentEntries\r\n                .map(e => `${e.date} (mood: ${e.mood}): ${e.content}`)\r\n                .join('\\n');\r\n\r\n            const totalFocus = weeklyData.reduce((sum, d) => sum + d.focusMinutes, 0);\r\n            const totalTasks = weeklyData.reduce((sum, d) => sum + d.tasksCompleted, 0);\r\n\r\n            const prompt = `You are a compassionate AI coach. Based on the user's recent journal entries and activity, provide ONE short, specific, actionable insight (2 sentences max).\r\n\r\nJournal entries:\r\n${entriesText}\r\n\r\nWeekly stats: ${totalFocus} focus mins, ${totalTasks} tasks done, ${analytics.currentStreak} day streak\r\n\r\nFocus on: patterns you notice, gentle encouragement, or a specific suggestion. Be warm but concise.`;\r\n\r\n            const response = await fetch(\r\n                `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`,\r\n                {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify({\r\n                        contents: [{ parts: [{ text: prompt }] }],\r\n                        generationConfig: { temperature: 0.7, maxOutputTokens: 100 },\r\n                    }),\r\n                }\r\n            );\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                const text = data.candidates?.[0]?.content?.parts?.[0]?.text?.trim();\r\n                if (text) {\r\n                    setAiInsight(text);\r\n                }\r\n            }\r\n        } catch (error) {\r\n            console.error('Error generating AI insight:', error);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    // Auto-generate AI insight on mount if there are journal entries\r\n    useEffect(() => {\r\n        if (recentEntries.length > 0 && !aiInsight) {\r\n            generateAIInsight();\r\n        }\r\n    }, [recentEntries.length]);\r\n\r\n    // Generate rule-based alerts\r\n    const generateAlerts = (): FrictionAlert[] => {\r\n        const alerts: FrictionAlert[] = [];\r\n        const totalFocusThisWeek = weeklyData.reduce((sum, d) => sum + d.focusMinutes, 0);\r\n        const totalTasksThisWeek = weeklyData.reduce((sum, d) => sum + d.tasksCompleted, 0);\r\n        const avgDailyFocus = totalFocusThisWeek / 7;\r\n\r\n        // High achiever - completed many tasks\r\n        if (totalTasksThisWeek >= 5) {\r\n            alerts.push({\r\n                id: 'high-tasks',\r\n                type: 'encouragement',\r\n                icon: Target,\r\n                title: 'Great Progress!',\r\n                message: `You completed ${totalTasksThisWeek} tasks this week. Your consistency is paying off!`,\r\n                color: 'text-emerald-500 bg-emerald-500/10 border-emerald-500/20',\r\n            });\r\n        }\r\n\r\n        // Good focus time\r\n        if (totalFocusThisWeek >= 60) {\r\n            alerts.push({\r\n                id: 'good-focus',\r\n                type: 'encouragement',\r\n                icon: Clock,\r\n                title: 'Focus Champion',\r\n                message: `${totalFocusThisWeek} minutes of deep work this week. Your focus muscle is getting stronger!`,\r\n                color: 'text-blue-500 bg-blue-500/10 border-blue-500/20',\r\n            });\r\n        }\r\n\r\n        // Streak momentum\r\n        if (analytics.currentStreak >= 3) {\r\n            alerts.push({\r\n                id: 'streak-going',\r\n                type: 'encouragement',\r\n                icon: Zap,\r\n                title: 'Momentum Building!',\r\n                message: `${analytics.currentStreak} days strong! You are proving who you are becoming.`,\r\n                color: 'text-amber-500 bg-amber-500/10 border-amber-500/20',\r\n            });\r\n        }\r\n\r\n        // Streak reset\r\n        if (analytics.currentStreak === 0 && analytics.longestStreak > 0) {\r\n            alerts.push({\r\n                id: 'streak-lost',\r\n                type: 'warning',\r\n                icon: TrendingDown,\r\n                title: 'Fresh Start',\r\n                message: `Your streak ended, but today is a new beginning. Show up gently.`,\r\n                color: 'text-orange-500 bg-orange-500/10 border-orange-500/20',\r\n            });\r\n        }\r\n\r\n        // Low focus this week\r\n        if (avgDailyFocus < 10 && totalFocusThisWeek > 0) {\r\n            alerts.push({\r\n                id: 'low-focus',\r\n                type: 'insight',\r\n                icon: Lightbulb,\r\n                title: 'Focus Opportunity',\r\n                message: `Try scheduling just 15 minutes of focused work tomorrow morning.`,\r\n                color: 'text-violet bg-violet/10 border-violet/20',\r\n            });\r\n        }\r\n\r\n        // Mood patterns\r\n        if (journalSummary.moodCounts.great >= 2) {\r\n            alerts.push({\r\n                id: 'great-mood',\r\n                type: 'encouragement',\r\n                icon: TrendingUp,\r\n                title: 'Positive Vibes',\r\n                message: `You felt great ${journalSummary.moodCounts.great} times this week. What is contributing to your happiness?`,\r\n                color: 'text-pink-500 bg-pink-500/10 border-pink-500/20',\r\n            });\r\n        }\r\n\r\n        if (journalSummary.moodCounts.low >= 2) {\r\n            alerts.push({\r\n                id: 'mood-pattern',\r\n                type: 'insight',\r\n                icon: Lightbulb,\r\n                title: 'Self-Care Reminder',\r\n                message: `You have had some tough days. Consider what might be draining you.`,\r\n                color: 'text-violet bg-violet/10 border-violet/20',\r\n            });\r\n        }\r\n\r\n        // No tasks but has history\r\n        if (totalTasksThisWeek === 0 && analytics.totalTasksCompleted > 0) {\r\n            alerts.push({\r\n                id: 'no-tasks',\r\n                type: 'warning',\r\n                icon: AlertTriangle,\r\n                title: 'Start Small',\r\n                message: 'No tasks completed this week. Start with just one small step today.',\r\n                color: 'text-amber-500 bg-amber-500/10 border-amber-500/20',\r\n            });\r\n        }\r\n\r\n        // Default if nothing else\r\n        if (alerts.length === 0) {\r\n            alerts.push({\r\n                id: 'default',\r\n                type: 'encouragement',\r\n                icon: Lightbulb,\r\n                title: 'Keep Going',\r\n                message: 'Small consistent actions lead to big changes. You are on the right path.',\r\n                color: 'text-primary bg-primary/10 border-primary/20',\r\n            });\r\n        }\r\n\r\n        return alerts.slice(0, 2); // Show max 2 rule-based alerts\r\n    };\r\n\r\n    const alerts = generateAlerts();\r\n\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className=\"rounded-2xl bg-card border border-border/50 p-5 shadow-sm\"\r\n        >\r\n            <div className=\"flex items-center gap-3 mb-4\">\r\n                <div className=\"w-10 h-10 rounded-xl bg-amber-500/10 flex items-center justify-center\">\r\n                    <AlertTriangle className=\"w-5 h-5 text-amber-500\" />\r\n                </div>\r\n                <div>\r\n                    <h3 className=\"font-semibold text-foreground\">Smart Insights</h3>\r\n                    <p className=\"text-xs text-muted-foreground\">AI-detected patterns & suggestions</p>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-3\">\r\n                {/* AI-powered insight */}\r\n                {aiInsight && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0, x: -10 }}\r\n                        animate={{ opacity: 1, x: 0 }}\r\n                        className=\"rounded-xl border p-4 bg-gradient-to-r from-primary/10 to-violet/10 border-primary/20\"\r\n                    >\r\n                        <div className=\"flex items-start gap-3\">\r\n                            <Brain className=\"w-5 h-5 shrink-0 mt-0.5 text-primary\" />\r\n                            <div>\r\n                                <p className=\"font-medium text-foreground text-sm flex items-center gap-2\">\r\n                                    AI Coach Insight\r\n                                    <span className=\"text-xs text-muted-foreground font-normal\">G</span>\r\n                                </p>\r\n                                <p className=\"text-sm text-muted-foreground mt-1\">{aiInsight}</p>\r\n                            </div>\r\n                        </div>\r\n                    </motion.div>\r\n                )}\r\n\r\n                {/* Rule-based alerts */}\r\n                {alerts.map((alert, index) => {\r\n                    const Icon = alert.icon;\r\n                    return (\r\n                        <motion.div\r\n                            key={alert.id}\r\n                            initial={{ opacity: 0, x: -10 }}\r\n                            animate={{ opacity: 1, x: 0 }}\r\n                            transition={{ delay: (aiInsight ? 0.1 : 0) + index * 0.1 }}\r\n                            className={`rounded-xl border p-4 ${alert.color}`}\r\n                        >\r\n                            <div className=\"flex items-start gap-3\">\r\n                                <Icon className=\"w-5 h-5 shrink-0 mt-0.5\" />\r\n                                <div>\r\n                                    <p className=\"font-medium text-foreground text-sm\">{alert.title}</p>\r\n                                    <p className=\"text-sm text-muted-foreground mt-1\">{alert.message}</p>\r\n                                </div>\r\n                            </div>\r\n                        </motion.div>\r\n                    );\r\n                })}\r\n\r\n                {/* Refresh button */}\r\n                <Button\r\n                    onClick={generateAIInsight}\r\n                    variant=\"ghost\"\r\n                    size=\"sm\"\r\n                    className=\"w-full mt-2\"\r\n                    disabled={isLoading || recentEntries.length === 0}\r\n                >\r\n                    {isLoading ? (\r\n                        <>\r\n                            <RefreshCw className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                            Analyzing...\r\n                        </>\r\n                    ) : (\r\n                        <>\r\n                            <RefreshCw className=\"w-4 h-4 mr-2\" />\r\n                            Refresh Insights\r\n                        </>\r\n                    )}\r\n                </Button>\r\n            </div>\r\n        </motion.div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\dashboard\\FrictionInsight.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\dashboard\\GoalsChallenges.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\dashboard\\HabitHealthTracking.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\dashboard\\IdentityCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\dashboard\\IdentityReinforcement.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\dashboard\\IdentityScore.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\dashboard\\IdentitySetup.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\dashboard\\MoodEnergyCheckin.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\dashboard\\NotificationsSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\dashboard\\QuarterGoal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\dashboard\\ReflectionJournal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\dashboard\\SettingsSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\dashboard\\WeeklyCoachSummary.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'generateWeeklySummary'. Either include it or remove the dependency array.","line":19,"column":8,"nodeType":"ArrayExpression","endLine":19,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [generateWeeklySummary]","fix":{"range":[752,754],"text":"[generateWeeklySummary]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { Sparkles, Calendar, TrendingUp, Loader2 } from 'lucide-react';\r\nimport { useAnalytics } from '@/hooks/useAnalytics';\r\nimport { useJournal } from '@/hooks/useJournal';\r\n\r\nexport function WeeklyCoachSummary() {\r\n    const { analytics, getWeeklyData } = useAnalytics();\r\n    const { getWeeklySummary, getRecentEntries } = useJournal();\r\n    const [aiSummary, setAiSummary] = useState<string>('');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const weeklyData = getWeeklyData();\r\n    const journalSummary = getWeeklySummary();\r\n    const recentEntries = getRecentEntries(7);\r\n\r\n    useEffect(() => {\r\n        generateWeeklySummary();\r\n    }, []);\r\n\r\n    const generateWeeklySummary = async () => {\r\n        const apiKey = import.meta.env.VITE_GOOGLE_API_KEY;\r\n        if (!apiKey) {\r\n            setAiSummary(\"Great job showing up this week! Keep building momentum with small, consistent actions.\");\r\n            return;\r\n        }\r\n\r\n        setIsLoading(true);\r\n\r\n        const totalFocus = weeklyData.reduce((sum, d) => sum + d.focusMinutes, 0);\r\n        const totalTasks = weeklyData.reduce((sum, d) => sum + d.tasksCompleted, 0);\r\n        const activeDays = weeklyData.filter(d => d.focusMinutes > 0 || d.tasksCompleted > 0).length;\r\n\r\n        const prompt = `You are a supportive weekly coach for a personal growth app. Generate a brief, encouraging weekly summary (2-3 sentences) based on this data:\r\n\r\n- Focus time: ${totalFocus} minutes total\r\n- Tasks completed: ${totalTasks}\r\n- Active days: ${activeDays}/7\r\n- Current streak: ${analytics.currentStreak} days\r\n- Journal entries: ${journalSummary.entriesCount}\r\n- Dominant mood: ${journalSummary.dominantMood || 'not tracked'}\r\n\r\nGuidelines:\r\n- Be warm and encouraging, not preachy\r\n- Acknowledge specific achievements\r\n- Offer one gentle suggestion for next week\r\n- Keep it personal and motivating\r\n\r\nReturn only the summary text, no formatting.`;\r\n\r\n        try {\r\n            const response = await fetch(\r\n                `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`,\r\n                {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify({\r\n                        contents: [{ parts: [{ text: prompt }] }],\r\n                        generationConfig: { temperature: 0.8, maxOutputTokens: 200 },\r\n                    }),\r\n                }\r\n            );\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                const text = data.candidates?.[0]?.content?.parts?.[0]?.text?.trim();\r\n                setAiSummary(text || \"You're making progress! Every small step counts toward becoming who you want to be.\");\r\n            } else {\r\n                setAiSummary(\"You're making progress! Every small step counts toward becoming who you want to be.\");\r\n            }\r\n        } catch {\r\n            setAiSummary(\"You're making progress! Every small step counts toward becoming who you want to be.\");\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const totalFocus = weeklyData.reduce((sum, d) => sum + d.focusMinutes, 0);\r\n    const totalTasks = weeklyData.reduce((sum, d) => sum + d.tasksCompleted, 0);\r\n\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className=\"rounded-2xl bg-gradient-to-br from-primary/10 via-violet/5 to-background border border-primary/20 p-6 shadow-sm\"\r\n        >\r\n            <div className=\"flex items-center gap-3 mb-4\">\r\n                <div className=\"w-10 h-10 rounded-xl bg-primary/20 flex items-center justify-center\">\r\n                    <Calendar className=\"w-5 h-5 text-primary\" />\r\n                </div>\r\n                <div>\r\n                    <h3 className=\"font-semibold text-foreground\">Weekly Coach Summary</h3>\r\n                    <p className=\"text-xs text-muted-foreground\">AI-powered review of your week</p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Stats Grid */}\r\n            <div className=\"grid grid-cols-3 gap-3 mb-4\">\r\n                <div className=\"bg-card/50 rounded-xl p-3 text-center\">\r\n                    <p className=\"text-lg font-bold text-foreground\">{totalFocus}</p>\r\n                    <p className=\"text-xs text-muted-foreground\">Focus mins</p>\r\n                </div>\r\n                <div className=\"bg-card/50 rounded-xl p-3 text-center\">\r\n                    <p className=\"text-lg font-bold text-foreground\">{totalTasks}</p>\r\n                    <p className=\"text-xs text-muted-foreground\">Tasks done</p>\r\n                </div>\r\n                <div className=\"bg-card/50 rounded-xl p-3 text-center\">\r\n                    <p className=\"text-lg font-bold text-foreground\">{journalSummary.entriesCount}</p>\r\n                    <p className=\"text-xs text-muted-foreground\">Journal entries</p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* AI Summary */}\r\n            <div className=\"rounded-xl bg-card/80 border border-border/50 p-4\">\r\n                <div className=\"flex items-center gap-2 mb-2\">\r\n                    <Sparkles className=\"w-4 h-4 text-primary\" />\r\n                    <span className=\"text-sm font-medium text-primary\">AI Coach</span>\r\n                </div>\r\n                {isLoading ? (\r\n                    <div className=\"flex items-center gap-2 text-muted-foreground\">\r\n                        <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                        <span className=\"text-sm\">Analyzing your week...</span>\r\n                    </div>\r\n                ) : (\r\n                    <p className=\"text-sm text-foreground leading-relaxed\">{aiSummary}</p>\r\n                )}\r\n            </div>\r\n\r\n            {/* Refresh */}\r\n            <button\r\n                onClick={generateWeeklySummary}\r\n                disabled={isLoading}\r\n                className=\"mt-4 flex items-center gap-2 text-xs text-muted-foreground hover:text-foreground transition-colors disabled:opacity-50\"\r\n            >\r\n                <TrendingUp className=\"w-3 h-3\" />\r\n                Refresh summary\r\n            </button>\r\n        </motion.div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\dashboard\\WeeklyInsights.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'aiSummary' and 'generateAISummary'. Either include them or remove the dependency array.","line":167,"column":8,"nodeType":"ArrayExpression","endLine":167,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [aiSummary, generateAISummary]","fix":{"range":[7101,7103],"text":"[aiSummary, generateAISummary]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport {\r\n    TrendingUp, TrendingDown, Minus, Brain, RefreshCw,\r\n    Target, Clock, CheckCircle2, Flame, Calendar, Sparkles, Trophy, ListChecks\r\n} from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { useAnalytics } from '@/hooks/useAnalytics';\r\nimport { useJournal } from '@/hooks/useJournal';\r\nimport { useGoals } from '@/hooks/useGoals';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { getUserStorageKey } from '@/lib/userStorage';\r\n\r\ninterface WeekComparison {\r\n    focusChange: number;\r\n    tasksChange: number;\r\n    habitsChange: number;\r\n    trend: 'up' | 'down' | 'stable';\r\n}\r\n\r\nexport function WeeklyInsights() {\r\n    const { user } = useAuth();\r\n    const { analytics, getWeeklyData } = useAnalytics(user?.id);\r\n    const { getWeeklySummary, getRecentEntries } = useJournal(user?.id);\r\n    const { getActiveChallenges } = useGoals(user?.id);\r\n\r\n    const [aiSummary, setAiSummary] = useState<string | null>(null);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [quarterlyProgress, setQuarterlyProgress] = useState(0);\r\n\r\n    const weeklyData = getWeeklyData();\r\n    const journalSummary = getWeeklySummary();\r\n    const recentEntries = getRecentEntries(7);\r\n    const activeChallenges = getActiveChallenges();\r\n\r\n    // Calculate quarterly goal completions for this week\r\n    useEffect(() => {\r\n        const key = getUserStorageKey('aligned_quarterly_completions', user?.id);\r\n        const stored = localStorage.getItem(key);\r\n        if (stored) {\r\n            try {\r\n                const completions = JSON.parse(stored);\r\n                const last7Days = [];\r\n                for (let i = 0; i < 7; i++) {\r\n                    const d = new Date();\r\n                    d.setDate(d.getDate() - i);\r\n                    last7Days.push(d.toISOString().split('T')[0]);\r\n                }\r\n\r\n                const count = Object.values(completions).filter(date =>\r\n                    date && typeof date === 'string' && last7Days.includes(date)\r\n                ).length;\r\n                setQuarterlyProgress(count);\r\n            } catch (e) {\r\n                console.error('Error calculating quarterly progress:', e);\r\n            }\r\n        } else {\r\n            setQuarterlyProgress(0);\r\n        }\r\n    }, [user?.id]);\r\n\r\n    // Calculate weekly stats\r\n    const totalFocusMinutes = weeklyData.reduce((sum, d) => sum + d.focusMinutes, 0);\r\n    const totalTasks = weeklyData.reduce((sum, d) => sum + d.tasksCompleted, 0);\r\n    const totalHabits = weeklyData.reduce((sum, d) => sum + d.habitsCompleted, 0);\r\n    const activeDays = weeklyData.filter(d => d.focusMinutes > 0 || d.tasksCompleted > 0 || d.habitsCompleted > 0).length;\r\n    const totalJournalEntries = recentEntries.length;\r\n    const positiveJournalDays = recentEntries.filter(e => e.mood === 'great' || e.mood === 'okay').length;\r\n\r\n    // Calculate challenge check-ins this week\r\n    const last7DaysStrings = [];\r\n    for (let i = 0; i < 7; i++) {\r\n        const d = new Date();\r\n        d.setDate(d.getDate() - i);\r\n        last7DaysStrings.push(d.toISOString().split('T')[0]);\r\n    }\r\n\r\n    const challengeCheckIns = activeChallenges.reduce((sum, c) => {\r\n        const weeklyCheckIns = c.checkIns.filter(date => last7DaysStrings.includes(date)).length;\r\n        return sum + weeklyCheckIns;\r\n    }, 0);\r\n\r\n    // Calculate productivity score based on all sections\r\n    // Max 100 points distributed across activities:\r\n    // - Focus time: up to 20 pts (120+ mins)\r\n    // - Tasks: up to 20 pts (10+ tasks)\r\n    // - Habits: up to 15 pts (15+ habits)\r\n    // - 90-Day Challenges: up to 15 pts (3+ check-ins)\r\n    // - Quarterly Goals: up to 10 pts (5+ completions)\r\n    // - Active days: up to 10 pts (7 days)\r\n    // - Journal & mood: up to 5 pts (5+ entries)\r\n    // - Streak bonus: up to 5 pts\r\n    const focusScore = Math.min(20, Math.round((totalFocusMinutes / 120) * 20));\r\n    const taskScore = Math.min(20, totalTasks * 2);\r\n    const habitScore = Math.min(15, totalHabits);\r\n    const challengeScore = Math.min(15, challengeCheckIns * 5);\r\n    const quarterlyScore = Math.min(10, quarterlyProgress * 2);\r\n    const activeDaysScore = Math.round((activeDays / 7) * 10);\r\n    const journalScore = Math.min(5, (totalJournalEntries + positiveJournalDays) / 2);\r\n    const streakBonus = Math.min(5, analytics.currentStreak);\r\n\r\n    const productivityScore = Math.round(\r\n        focusScore + taskScore + habitScore + challengeScore + quarterlyScore + activeDaysScore + journalScore + streakBonus\r\n    );\r\n\r\n    // Generate AI weekly summary\r\n    const generateAISummary = async () => {\r\n        const apiKey = import.meta.env.VITE_GOOGLE_API_KEY;\r\n        if (!apiKey) {\r\n            setAiSummary(\"Great week! You showed up consistently. Keep building on this momentum.\");\r\n            return;\r\n        }\r\n\r\n        setIsLoading(true);\r\n        try {\r\n            const entriesText = recentEntries.length > 0\r\n                ? recentEntries.map(e => `${e.mood}: ${e.content.slice(0, 100)}`).join('; ')\r\n                : 'No journal entries';\r\n\r\n            const prompt = `You are a supportive productivity coach. Summarize the user's week in 2-3 sentences.\r\n\r\nWeekly Stats:\r\n- Focus time: ${totalFocusMinutes} minutes\r\n- Tasks completed: ${totalTasks}\r\n- Active days: ${activeDays}/7\r\n- 90-Day Challenge check-ins: ${challengeCheckIns}\r\n- Quarterly Goal milestones: ${quarterlyProgress}\r\n- Current streak: ${analytics.currentStreak} days\r\n- Journal mood: ${journalSummary.moodCounts.great} great, ${journalSummary.moodCounts.okay} okay, ${journalSummary.moodCounts.low} low\r\n\r\nRecent journal entries: ${entriesText}\r\n\r\nBe encouraging but honest. Mention specific achievements in goals or challenges if any. Suggest one thing for next week.`;\r\n\r\n            const response = await fetch(\r\n                `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`,\r\n                {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify({\r\n                        contents: [{ parts: [{ text: prompt }] }],\r\n                        generationConfig: { temperature: 0.7, maxOutputTokens: 150 },\r\n                    }),\r\n                }\r\n            );\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                const text = data.candidates?.[0]?.content?.parts?.[0]?.text?.trim();\r\n                if (text) {\r\n                    setAiSummary(text);\r\n                }\r\n            }\r\n        } catch (error) {\r\n            console.error('Error generating summary:', error);\r\n            setAiSummary(\"You're making progress! Keep showing up consistently.\");\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    // Generate summary on mount\r\n    useEffect(() => {\r\n        if (!aiSummary) {\r\n            generateAISummary();\r\n        }\r\n    }, []);\r\n\r\n    const getTrendIcon = (value: number) => {\r\n        if (value > 0) return <TrendingUp className=\"w-4 h-4 text-emerald-500\" />;\r\n        if (value < 0) return <TrendingDown className=\"w-4 h-4 text-red-500\" />;\r\n        return <Minus className=\"w-4 h-4 text-muted-foreground\" />;\r\n    };\r\n\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className=\"rounded-2xl bg-card border border-border/50 p-6 shadow-sm col-span-1 md:col-span-2\"\r\n        >\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                    <div className=\"w-10 h-10 rounded-xl bg-gradient-to-br from-primary/20 to-violet/20 flex items-center justify-center\">\r\n                        <Brain className=\"w-5 h-5 text-primary\" />\r\n                    </div>\r\n                    <div>\r\n                        <h3 className=\"font-semibold text-foreground\">Weekly Insights</h3>\r\n                        <p className=\"text-xs text-muted-foreground\">AI-powered progress analysis</p>\r\n                    </div>\r\n                </div>\r\n                <Button\r\n                    onClick={generateAISummary}\r\n                    variant=\"ghost\"\r\n                    size=\"sm\"\r\n                    disabled={isLoading}\r\n                >\r\n                    {isLoading ? (\r\n                        <RefreshCw className=\"w-4 h-4 animate-spin\" />\r\n                    ) : (\r\n                        <RefreshCw className=\"w-4 h-4\" />\r\n                    )}\r\n                </Button>\r\n            </div>\r\n\r\n            {/* Stats Grid */}\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4\">\r\n                <div className=\"bg-secondary/30 rounded-xl p-3 text-center\">\r\n                    <Trophy className=\"w-5 h-5 text-amber-500 mx-auto mb-1\" />\r\n                    <p className=\"text-xl font-bold text-foreground\">{challengeCheckIns}</p>\r\n                    <p className=\"text-xs text-muted-foreground\">Challenges</p>\r\n                </div>\r\n                <div className=\"bg-secondary/30 rounded-xl p-3 text-center\">\r\n                    <ListChecks className=\"w-5 h-5 text-primary mx-auto mb-1\" />\r\n                    <p className=\"text-xl font-bold text-foreground\">{quarterlyProgress}</p>\r\n                    <p className=\"text-xs text-muted-foreground\">Quarterly</p>\r\n                </div>\r\n                <div className=\"bg-secondary/30 rounded-xl p-3 text-center\">\r\n                    <Calendar className=\"w-5 h-5 text-violet mx-auto mb-1\" />\r\n                    <p className=\"text-xl font-bold text-foreground\">{activeDays}/7</p>\r\n                    <p className=\"text-xs text-muted-foreground\">Active days</p>\r\n                </div>\r\n                <div className=\"bg-secondary/30 rounded-xl p-3 text-center\">\r\n                    <Flame className=\"w-5 h-5 text-orange-500 mx-auto mb-1\" />\r\n                    <p className=\"text-xl font-bold text-foreground\">{analytics.currentStreak}</p>\r\n                    <p className=\"text-xs text-muted-foreground\">Day streak</p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Sub Stats Row */}\r\n            <div className=\"grid grid-cols-2 md:grid-cols-2 gap-3 mb-4\">\r\n                <div className=\"bg-secondary/20 rounded-xl p-2 flex items-center justify-center gap-3\">\r\n                    <Clock className=\"w-4 h-4 text-blue-500\" />\r\n                    <span className=\"text-sm font-semibold text-foreground\">{totalFocusMinutes}m focus</span>\r\n                </div>\r\n                <div className=\"bg-secondary/20 rounded-xl p-2 flex items-center justify-center gap-3\">\r\n                    <CheckCircle2 className=\"w-4 h-4 text-emerald-500\" />\r\n                    <span className=\"text-sm font-semibold text-foreground\">{totalTasks} tasks</span>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Productivity Score */}\r\n            <div className=\"mb-4 p-4 rounded-xl bg-gradient-to-r from-primary/10 to-violet/10 border border-primary/20\">\r\n                <div className=\"flex items-center justify-between mb-2\">\r\n                    <span className=\"text-sm font-medium text-foreground flex items-center gap-2\">\r\n                        <Target className=\"w-4 h-4 text-primary\" />\r\n                        Weekly Productivity Score\r\n                    </span>\r\n                    <span className=\"text-2xl font-bold text-primary\">{productivityScore}</span>\r\n                </div>\r\n                <div className=\"w-full h-2 bg-secondary rounded-full overflow-hidden\">\r\n                    <motion.div\r\n                        initial={{ width: 0 }}\r\n                        animate={{ width: `${productivityScore}%` }}\r\n                        transition={{ duration: 1, delay: 0.5 }}\r\n                        className=\"h-full bg-gradient-to-r from-primary to-violet rounded-full\"\r\n                    />\r\n                </div>\r\n                <p className=\"text-xs text-muted-foreground mt-2\">\r\n                    Based on focus, tasks, habits, challenges, quarterly goals, and streak\r\n                </p>\r\n            </div>\r\n\r\n            {/* AI Summary */}\r\n            <div className=\"p-4 rounded-xl bg-secondary/20 border border-border/50\">\r\n                <div className=\"flex items-start gap-3\">\r\n                    <Sparkles className=\"w-5 h-5 text-amber-500 shrink-0 mt-0.5\" />\r\n                    <div>\r\n                        <p className=\"text-sm font-medium text-foreground mb-1\">AI Weekly Summary</p>\r\n                        {isLoading ? (\r\n                            <p className=\"text-sm text-muted-foreground animate-pulse\">Analyzing your week...</p>\r\n                        ) : (\r\n                            <p className=\"text-sm text-muted-foreground\">{aiSummary || 'Loading...'}</p>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Journal Mood Summary */}\r\n            {(journalSummary.moodCounts.great > 0 || journalSummary.moodCounts.okay > 0 || journalSummary.moodCounts.low > 0) && (\r\n                <div className=\"mt-4 flex items-center gap-4\">\r\n                    <p className=\"text-xs text-muted-foreground\">Mood this week:</p>\r\n                    <div className=\"flex items-center gap-3\">\r\n                        {journalSummary.moodCounts.great > 0 && (\r\n                            <span className=\"text-xs bg-emerald-500/10 text-emerald-500 px-2 py-1 rounded-full\">\r\n                                = Great {journalSummary.moodCounts.great}x\r\n                            </span>\r\n                        )}\r\n                        {journalSummary.moodCounts.okay > 0 && (\r\n                            <span className=\"text-xs bg-amber-500/10 text-amber-500 px-2 py-1 rounded-full\">\r\n                                = Okay {journalSummary.moodCounts.okay}x\r\n                            </span>\r\n                        )}\r\n                        {journalSummary.moodCounts.low > 0 && (\r\n                            <span className=\"text-xs bg-blue-500/10 text-blue-500 px-2 py-1 rounded-full\">\r\n                                = Low {journalSummary.moodCounts.low}x\r\n                            </span>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </motion.div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\dashboard\\WeeklyProgress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\dashboard\\YearlyQuarterlyGoal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\landing\\AnimatedSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\landing\\BenefitsSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\landing\\CTASection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\landing\\FAQsSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\landing\\FeaturesSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\landing\\Footer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\landing\\HeroSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\landing\\HowItWorksSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\landing\\Navbar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\landing\\PricingSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\landing\\TestimonialsSection.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchApprovedTestimonials'. Either include it or remove the dependency array.","line":44,"column":6,"nodeType":"ArrayExpression","endLine":44,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [fetchApprovedTestimonials]","fix":{"range":[1398,1400],"text":"[fetchApprovedTestimonials]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect, useState } from 'react';\nimport { AnimatedSection } from './AnimatedSection';\nimport { Quote, Star } from 'lucide-react';\nimport { useFeedback } from '@/hooks/useFeedback';\n\ninterface Testimonial {\n  quote: string;\n  name: string;\n  role: string;\n  avatar: string;\n  rating: number;\n}\n\nconst staticTestimonials: Testimonial[] = [\n  {\n    quote: \"Aligned helped me finally understand why I kept falling off track. It's not about doing more G it's about doing what matters to who I want to become.\",\n    name: 'Priya Sharma',\n    role: 'Computer Science Student',\n    avatar: 'PS',\n    rating: 5,\n  },\n  {\n    quote: \"I've tried every productivity app out there. This is the first one that doesn't make me feel guilty. It actually feels calming to use.\",\n    name: 'Arjun Mehta',\n    role: 'Product Manager',\n    avatar: 'AM',\n    rating: 5,\n  },\n  {\n    quote: \"The AI weekly planning saved me hours. It knows my patterns better than I do and creates realistic plans that I actually follow.\",\n    name: 'Sarah Chen',\n    role: 'Freelance Designer',\n    avatar: 'SC',\n    rating: 5,\n  },\n];\n\nexport function TestimonialsSection() {\n  const { fetchApprovedTestimonials, testimonials: dbTestimonials, isLoading } = useFeedback();\n  const [allTestimonials, setAllTestimonials] = useState<Testimonial[]>(staticTestimonials);\n\n  useEffect(() => {\n    fetchApprovedTestimonials();\n  }, []);\n\n  useEffect(() => {\n    if (dbTestimonials.length > 0) {\n      // Convert database testimonials to the display format\n      const formattedDbTestimonials: Testimonial[] = dbTestimonials.map((t) => ({\n        quote: t.feedback,\n        name: t.name,\n        role: t.role,\n        avatar: t.name.split(' ').map((n) => n[0]).join('').toUpperCase().slice(0, 2),\n        rating: t.rating,\n      }));\n      // Combine static and database testimonials (show static first, then database ones)\n      setAllTestimonials([...staticTestimonials, ...formattedDbTestimonials]);\n    }\n  }, [dbTestimonials]);\n\n  return (\n    <section className=\"py-24 lg:py-32 relative overflow-hidden\">\n      {/* Background */}\n      <div className=\"absolute inset-0 bg-gradient-to-b from-background via-purple-light/20 to-background dark:via-primary/5\" />\n      <div className=\"absolute top-1/4 right-0 w-[500px] h-[500px] bg-primary/5 rounded-full blur-[150px] dark:bg-primary/10\" />\n\n      <div className=\"container mx-auto px-4 sm:px-6 lg:px-8 relative\">\n        <AnimatedSection className=\"text-center max-w-2xl mx-auto mb-16\">\n          <span className=\"inline-flex items-center gap-2 px-4 py-1.5 glass-card rounded-full text-sm font-medium mb-6\">\n            <Star size={14} className=\"text-primary fill-primary\" />\n            Testimonials\n          </span>\n          <h2 className=\"font-display text-3xl sm:text-4xl lg:text-5xl font-bold text-foreground mb-6\">\n            Loved by <span className=\"bg-gradient-to-r from-primary to-purple-dark bg-clip-text text-transparent\">intentional</span> people\n          </h2>\n          <p className=\"text-lg text-muted-foreground\">\n            Hear from students, professionals, and creators who've found their alignment.\n          </p>\n        </AnimatedSection>\n\n        <div className=\"grid md:grid-cols-3 gap-6 lg:gap-8 max-w-6xl mx-auto\">\n          {allTestimonials.slice(0, 6).map((testimonial, index) => (\n            <AnimatedSection key={`${testimonial.name}-${index}`} delay={index * 100}>\n              <div className=\"h-full glass-card rounded-3xl p-6 lg:p-8 hover:shadow-xl hover:shadow-primary/10 hover:-translate-y-1 transition-all duration-300 group dark:hover:border-primary/30 dark:hover:shadow-primary/20\">\n                {/* Rating */}\n                <div className=\"flex gap-1 mb-4\">\n                  {Array.from({ length: testimonial.rating }).map((_, i) => (\n                    <Star key={i} size={16} className=\"text-yellow-500 fill-yellow-500\" />\n                  ))}\n                </div>\n\n                <Quote size={32} className=\"text-primary/20 mb-4 group-hover:text-primary/40 transition-colors dark:text-primary/30 dark:group-hover:text-primary/50\" />\n\n                <blockquote className=\"text-foreground leading-relaxed mb-6 text-[15px]\">\n                  \"{testimonial.quote}\"\n                </blockquote>\n\n                <div className=\"flex items-center gap-4 pt-4 border-t border-border/50 dark:border-primary/10\">\n                  <div className=\"w-12 h-12 rounded-full bg-gradient-to-br from-primary to-purple-dark flex items-center justify-center text-primary-foreground font-semibold shadow-lg shadow-primary/20 dark:shadow-primary/40\">\n                    {testimonial.avatar}\n                  </div>\n                  <div>\n                    <p className=\"font-semibold text-foreground\">{testimonial.name}</p>\n                    <p className=\"text-muted-foreground text-sm\">{testimonial.role}</p>\n                  </div>\n                </div>\n              </div>\n            </AnimatedSection>\n          ))}\n        </div>\n      </div>\n    </section>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\onboarding\\OnboardingLayout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\onboarding\\OnboardingNavigation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\onboarding\\OnboardingTextarea.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\accordion.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\alert-dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\alert.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\aspect-ratio.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\avatar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\badge.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":29,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":29,"endColumn":30}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default: \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive: \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n);\n\nexport interface BadgeProps extends React.HTMLAttributes<HTMLDivElement>, VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return <div className={cn(badgeVariants({ variant }), className)} {...props} />;\n}\n\nexport { Badge, badgeVariants };\n","usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\breadcrumb.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\button.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":47,"column":18,"nodeType":"Identifier","messageId":"namedExport","endLine":47,"endColumn":32}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline: \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return <Comp className={cn(buttonVariants({ variant, size, className }))} ref={ref} {...props} />;\n  },\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n","usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\calendar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\carousel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\chart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\checkbox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\collapsible.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\command.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\context-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\drawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\dropdown-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\form.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":129,"column":10,"nodeType":"Identifier","messageId":"namedExport","endLine":129,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { Controller, ControllerProps, FieldPath, FieldValues, FormProvider, useFormContext } from \"react-hook-form\";\n\nimport { cn } from \"@/lib/utils\";\nimport { Label } from \"@/components/ui/label\";\n\nconst Form = FormProvider;\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n> = {\n  name: TName;\n};\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>({} as FormFieldContextValue);\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  );\n};\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext);\n  const itemContext = React.useContext(FormItemContext);\n  const { getFieldState, formState } = useFormContext();\n\n  const fieldState = getFieldState(fieldContext.name, formState);\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\");\n  }\n\n  const { id } = itemContext;\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  };\n};\n\ntype FormItemContextValue = {\n  id: string;\n};\n\nconst FormItemContext = React.createContext<FormItemContextValue>({} as FormItemContextValue);\n\nconst FormItem = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => {\n    const id = React.useId();\n\n    return (\n      <FormItemContext.Provider value={{ id }}>\n        <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n      </FormItemContext.Provider>\n    );\n  },\n);\nFormItem.displayName = \"FormItem\";\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField();\n\n  return <Label ref={ref} className={cn(error && \"text-destructive\", className)} htmlFor={formItemId} {...props} />;\n});\nFormLabel.displayName = \"FormLabel\";\n\nconst FormControl = React.forwardRef<React.ElementRef<typeof Slot>, React.ComponentPropsWithoutRef<typeof Slot>>(\n  ({ ...props }, ref) => {\n    const { error, formItemId, formDescriptionId, formMessageId } = useFormField();\n\n    return (\n      <Slot\n        ref={ref}\n        id={formItemId}\n        aria-describedby={!error ? `${formDescriptionId}` : `${formDescriptionId} ${formMessageId}`}\n        aria-invalid={!!error}\n        {...props}\n      />\n    );\n  },\n);\nFormControl.displayName = \"FormControl\";\n\nconst FormDescription = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\n  ({ className, ...props }, ref) => {\n    const { formDescriptionId } = useFormField();\n\n    return <p ref={ref} id={formDescriptionId} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />;\n  },\n);\nFormDescription.displayName = \"FormDescription\";\n\nconst FormMessage = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\n  ({ className, children, ...props }, ref) => {\n    const { error, formMessageId } = useFormField();\n    const body = error ? String(error?.message) : children;\n\n    if (!body) {\n      return null;\n    }\n\n    return (\n      <p ref={ref} id={formMessageId} className={cn(\"text-sm font-medium text-destructive\", className)} {...props}>\n        {body}\n      </p>\n    );\n  },\n);\nFormMessage.displayName = \"FormMessage\";\n\nexport { useFormField, Form, FormItem, FormLabel, FormControl, FormDescription, FormMessage, FormField };\n","usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\hover-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\input-otp.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\label.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\menubar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\navigation-menu.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":111,"column":3,"nodeType":"Identifier","messageId":"namedExport","endLine":111,"endColumn":29}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\";\nimport { cva } from \"class-variance-authority\";\nimport { ChevronDown } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\"relative z-10 flex max-w-max flex-1 items-center justify-center\", className)}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n));\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName;\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\"group flex flex-1 list-none items-center justify-center space-x-1\", className)}\n    {...props}\n  />\n));\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName;\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item;\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50\",\n);\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n));\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName;\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto\",\n      className,\n    )}\n    {...props}\n  />\n));\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName;\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link;\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className,\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n));\nNavigationMenuViewport.displayName = NavigationMenuPrimitive.Viewport.displayName;\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className,\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n));\nNavigationMenuIndicator.displayName = NavigationMenuPrimitive.Indicator.displayName;\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n};\n","usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\pagination.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\popover.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\progress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\radio-group.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\resizable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\scroll-area.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\select.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\separator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\sheet.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\sidebar.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":636,"column":3,"nodeType":"Identifier","messageId":"namedExport","endLine":636,"endColumn":13}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { VariantProps, cva } from \"class-variance-authority\";\nimport { PanelLeft } from \"lucide-react\";\n\nimport { useIsMobile } from \"@/hooks/use-mobile\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Sheet, SheetContent } from \"@/components/ui/sheet\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"@/components/ui/tooltip\";\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar:state\";\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7;\nconst SIDEBAR_WIDTH = \"16rem\";\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\";\nconst SIDEBAR_WIDTH_ICON = \"3rem\";\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\";\n\ntype SidebarContext = {\n  state: \"expanded\" | \"collapsed\";\n  open: boolean;\n  setOpen: (open: boolean) => void;\n  openMobile: boolean;\n  setOpenMobile: (open: boolean) => void;\n  isMobile: boolean;\n  toggleSidebar: () => void;\n};\n\nconst SidebarContext = React.createContext<SidebarContext | null>(null);\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext);\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\");\n  }\n\n  return context;\n}\n\nconst SidebarProvider = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    defaultOpen?: boolean;\n    open?: boolean;\n    onOpenChange?: (open: boolean) => void;\n  }\n>(({ defaultOpen = true, open: openProp, onOpenChange: setOpenProp, className, style, children, ...props }, ref) => {\n  const isMobile = useIsMobile();\n  const [openMobile, setOpenMobile] = React.useState(false);\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen);\n  const open = openProp ?? _open;\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value;\n      if (setOpenProp) {\n        setOpenProp(openState);\n      } else {\n        _setOpen(openState);\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`;\n    },\n    [setOpenProp, open],\n  );\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open);\n  }, [isMobile, setOpen, setOpenMobile]);\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (event.key === SIDEBAR_KEYBOARD_SHORTCUT && (event.metaKey || event.ctrlKey)) {\n        event.preventDefault();\n        toggleSidebar();\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [toggleSidebar]);\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\";\n\n  const contextValue = React.useMemo<SidebarContext>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar],\n  );\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\"group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar\", className)}\n          ref={ref}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  );\n});\nSidebarProvider.displayName = \"SidebarProvider\";\n\nconst Sidebar = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    side?: \"left\" | \"right\";\n    variant?: \"sidebar\" | \"floating\" | \"inset\";\n    collapsible?: \"offcanvas\" | \"icon\" | \"none\";\n  }\n>(({ side = \"left\", variant = \"sidebar\", collapsible = \"offcanvas\", className, children, ...props }, ref) => {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar();\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        className={cn(\"flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground\", className)}\n        ref={ref}\n        {...props}\n      >\n        {children}\n      </div>\n    );\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    );\n  }\n\n  return (\n    <div\n      ref={ref}\n      className=\"group peer hidden text-sidebar-foreground md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        className={cn(\n          \"relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]\"\n            : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon]\",\n        )}\n      />\n      <div\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className,\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          className=\"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n});\nSidebar.displayName = \"Sidebar\";\n\nconst SidebarTrigger = React.forwardRef<React.ElementRef<typeof Button>, React.ComponentProps<typeof Button>>(\n  ({ className, onClick, ...props }, ref) => {\n    const { toggleSidebar } = useSidebar();\n\n    return (\n      <Button\n        ref={ref}\n        data-sidebar=\"trigger\"\n        variant=\"ghost\"\n        size=\"icon\"\n        className={cn(\"h-7 w-7\", className)}\n        onClick={(event) => {\n          onClick?.(event);\n          toggleSidebar();\n        }}\n        {...props}\n      >\n        <PanelLeft />\n        <span className=\"sr-only\">Toggle Sidebar</span>\n      </Button>\n    );\n  },\n);\nSidebarTrigger.displayName = \"SidebarTrigger\";\n\nconst SidebarRail = React.forwardRef<HTMLButtonElement, React.ComponentProps<\"button\">>(\n  ({ className, ...props }, ref) => {\n    const { toggleSidebar } = useSidebar();\n\n    return (\n      <button\n        ref={ref}\n        data-sidebar=\"rail\"\n        aria-label=\"Toggle Sidebar\"\n        tabIndex={-1}\n        onClick={toggleSidebar}\n        title=\"Toggle Sidebar\"\n        className={cn(\n          \"absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex\",\n          \"[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize\",\n          \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n          \"group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar\",\n          \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n          \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n          className,\n        )}\n        {...props}\n      />\n    );\n  },\n);\nSidebarRail.displayName = \"SidebarRail\";\n\nconst SidebarInset = React.forwardRef<HTMLDivElement, React.ComponentProps<\"main\">>(({ className, ...props }, ref) => {\n  return (\n    <main\n      ref={ref}\n      className={cn(\n        \"relative flex min-h-svh flex-1 flex-col bg-background\",\n        \"peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarInset.displayName = \"SidebarInset\";\n\nconst SidebarInput = React.forwardRef<React.ElementRef<typeof Input>, React.ComponentProps<typeof Input>>(\n  ({ className, ...props }, ref) => {\n    return (\n      <Input\n        ref={ref}\n        data-sidebar=\"input\"\n        className={cn(\n          \"h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring\",\n          className,\n        )}\n        {...props}\n      />\n    );\n  },\n);\nSidebarInput.displayName = \"SidebarInput\";\n\nconst SidebarHeader = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(({ className, ...props }, ref) => {\n  return <div ref={ref} data-sidebar=\"header\" className={cn(\"flex flex-col gap-2 p-2\", className)} {...props} />;\n});\nSidebarHeader.displayName = \"SidebarHeader\";\n\nconst SidebarFooter = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(({ className, ...props }, ref) => {\n  return <div ref={ref} data-sidebar=\"footer\" className={cn(\"flex flex-col gap-2 p-2\", className)} {...props} />;\n});\nSidebarFooter.displayName = \"SidebarFooter\";\n\nconst SidebarSeparator = React.forwardRef<React.ElementRef<typeof Separator>, React.ComponentProps<typeof Separator>>(\n  ({ className, ...props }, ref) => {\n    return (\n      <Separator\n        ref={ref}\n        data-sidebar=\"separator\"\n        className={cn(\"mx-2 w-auto bg-sidebar-border\", className)}\n        {...props}\n      />\n    );\n  },\n);\nSidebarSeparator.displayName = \"SidebarSeparator\";\n\nconst SidebarContent = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarContent.displayName = \"SidebarContent\";\n\nconst SidebarGroup = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  );\n});\nSidebarGroup.displayName = \"SidebarGroup\";\n\nconst SidebarGroupLabel = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\"> & { asChild?: boolean }>(\n  ({ className, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"div\";\n\n    return (\n      <Comp\n        ref={ref}\n        data-sidebar=\"group-label\"\n        className={cn(\n          \"flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n          \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n          className,\n        )}\n        {...props}\n      />\n    );\n  },\n);\nSidebarGroupLabel.displayName = \"SidebarGroupLabel\";\n\nconst SidebarGroupAction = React.forwardRef<HTMLButtonElement, React.ComponentProps<\"button\"> & { asChild?: boolean }>(\n  ({ className, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n\n    return (\n      <Comp\n        ref={ref}\n        data-sidebar=\"group-action\"\n        className={cn(\n          \"absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n          // Increases the hit area of the button on mobile.\n          \"after:absolute after:-inset-2 after:md:hidden\",\n          \"group-data-[collapsible=icon]:hidden\",\n          className,\n        )}\n        {...props}\n      />\n    );\n  },\n);\nSidebarGroupAction.displayName = \"SidebarGroupAction\";\n\nconst SidebarGroupContent = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} data-sidebar=\"group-content\" className={cn(\"w-full text-sm\", className)} {...props} />\n  ),\n);\nSidebarGroupContent.displayName = \"SidebarGroupContent\";\n\nconst SidebarMenu = React.forwardRef<HTMLUListElement, React.ComponentProps<\"ul\">>(({ className, ...props }, ref) => (\n  <ul ref={ref} data-sidebar=\"menu\" className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)} {...props} />\n));\nSidebarMenu.displayName = \"SidebarMenu\";\n\nconst SidebarMenuItem = React.forwardRef<HTMLLIElement, React.ComponentProps<\"li\">>(({ className, ...props }, ref) => (\n  <li ref={ref} data-sidebar=\"menu-item\" className={cn(\"group/menu-item relative\", className)} {...props} />\n));\nSidebarMenuItem.displayName = \"SidebarMenuItem\";\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:!p-0\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nconst SidebarMenuButton = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean;\n    isActive?: boolean;\n    tooltip?: string | React.ComponentProps<typeof TooltipContent>;\n  } & VariantProps<typeof sidebarMenuButtonVariants>\n>(({ asChild = false, isActive = false, variant = \"default\", size = \"default\", tooltip, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\";\n  const { isMobile, state } = useSidebar();\n\n  const button = (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  );\n\n  if (!tooltip) {\n    return button;\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    };\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent side=\"right\" align=\"center\" hidden={state !== \"collapsed\" || isMobile} {...tooltip} />\n    </Tooltip>\n  );\n});\nSidebarMenuButton.displayName = \"SidebarMenuButton\";\n\nconst SidebarMenuAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean;\n    showOnHover?: boolean;\n  }\n>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\";\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarMenuAction.displayName = \"SidebarMenuAction\";\n\nconst SidebarMenuBadge = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n);\nSidebarMenuBadge.displayName = \"SidebarMenuBadge\";\n\nconst SidebarMenuSkeleton = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    showIcon?: boolean;\n  }\n>(({ className, showIcon = false, ...props }, ref) => {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`;\n  }, []);\n\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && <Skeleton className=\"size-4 rounded-md\" data-sidebar=\"menu-skeleton-icon\" />}\n      <Skeleton\n        className=\"h-4 max-w-[--skeleton-width] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  );\n});\nSidebarMenuSkeleton.displayName = \"SidebarMenuSkeleton\";\n\nconst SidebarMenuSub = React.forwardRef<HTMLUListElement, React.ComponentProps<\"ul\">>(\n  ({ className, ...props }, ref) => (\n    <ul\n      ref={ref}\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n);\nSidebarMenuSub.displayName = \"SidebarMenuSub\";\n\nconst SidebarMenuSubItem = React.forwardRef<HTMLLIElement, React.ComponentProps<\"li\">>(({ ...props }, ref) => (\n  <li ref={ref} {...props} />\n));\nSidebarMenuSubItem.displayName = \"SidebarMenuSubItem\";\n\nconst SidebarMenuSubButton = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentProps<\"a\"> & {\n    asChild?: boolean;\n    size?: \"sm\" | \"md\";\n    isActive?: boolean;\n  }\n>(({ asChild = false, size = \"md\", isActive, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\";\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarMenuSubButton.displayName = \"SidebarMenuSubButton\";\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n};\n","usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\slider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\sonner.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":27,"column":19,"nodeType":"Identifier","messageId":"namedExport","endLine":27,"endColumn":24}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useTheme } from \"next-themes\";\nimport { Toaster as Sonner, toast } from \"sonner\";\n\ntype ToasterProps = React.ComponentProps<typeof Sonner>;\n\nconst Toaster = ({ ...props }: ToasterProps) => {\n  const { theme = \"system\" } = useTheme();\n\n  return (\n    <Sonner\n      theme={theme as ToasterProps[\"theme\"]}\n      className=\"toaster group\"\n      toastOptions={{\n        classNames: {\n          toast:\n            \"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg\",\n          description: \"group-[.toast]:text-muted-foreground\",\n          actionButton: \"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground\",\n          cancelButton: \"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground\",\n        },\n      }}\n      {...props}\n    />\n  );\n};\n\nexport { Toaster, toast };\n","usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\switch.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\table.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\tabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\textarea.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\toast.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\toaster.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\toggle-group.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\toggle.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":37,"column":18,"nodeType":"Identifier","messageId":"namedExport","endLine":37,"endColumn":32}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline: \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3\",\n        sm: \"h-9 px-2.5\",\n        lg: \"h-11 px-5\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> & VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root ref={ref} className={cn(toggleVariants({ variant, size, className }))} {...props} />\n));\n\nToggle.displayName = TogglePrimitive.Root.displayName;\n\nexport { Toggle, toggleVariants };\n","usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\tooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\components\\ui\\use-toast.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\contexts\\AuthContext.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":172,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":172,"endColumn":24}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createContext, useContext, useEffect, useState, ReactNode } from 'react';\nimport { User, Session } from '@supabase/supabase-js';\nimport { supabase } from '@/lib/supabase';\nimport { clearDashboardData } from '@/lib/clearDashboardData';\nimport { migrateUserData } from '@/lib/dataMigration';\ninterface Profile {\n  id: string;\n  full_name: string;\n  onboarding_completed: boolean;\n}\n\ninterface AuthContextType {\n  user: User | null;\n  session: Session | null;\n  profile: Profile | null;\n  loading: boolean;\n  signUp: (email: string, password: string, fullName: string) => Promise<{ error: Error | null }>;\n  signIn: (email: string, password: string) => Promise<{ error: Error | null; onboardingCompleted?: boolean }>;\n  signOut: () => Promise<void>;\n  refreshProfile: () => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [session, setSession] = useState<Session | null>(null);\n  const [profile, setProfile] = useState<Profile | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  const fetchProfile = async (userId: string) => {\n    const { data, error } = await supabase\n      .from('profiles')\n      .select('*')\n      .eq('id', userId)\n      .maybeSingle();\n\n    if (!error && data) {\n      setProfile(data);\n    }\n    return data;\n  };\n\n  const refreshProfile = async () => {\n    if (user) {\n      await fetchProfile(user.id);\n    }\n  };\n\n  useEffect(() => {\n    // Set up auth state listener FIRST\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(\n      (event, session) => {\n        setSession(session);\n        setUser(session?.user ?? null);\n\n        // Defer profile fetch with setTimeout to avoid deadlock\n        if (session?.user) {\n          setTimeout(() => {\n            fetchProfile(session.user.id);\n          }, 0);\n        } else {\n          setProfile(null);\n        }\n      }\n    );\n\n    // THEN check for existing session\n    supabase.auth.getSession().then(({ data: { session } }) => {\n      setSession(session);\n      setUser(session?.user ?? null);\n      if (session?.user) {\n        // Run data migration for existing users on session restore\n        migrateUserData(session.user.id);\n        fetchProfile(session.user.id).finally(() => setLoading(false));\n      } else {\n        setLoading(false);\n      }\n    });\n\n    return () => subscription.unsubscribe();\n  }, []);\n\n  const signUp = async (email: string, password: string, fullName: string) => {\n    // Clear any existing dashboard data to ensure new users start fresh\n    clearDashboardData();\n\n    const redirectUrl = `${window.location.origin}/`;\n\n    const { data, error } = await supabase.auth.signUp({\n      email,\n      password,\n      options: {\n        emailRedirectTo: redirectUrl\n      }\n    });\n\n    if (error) {\n      return { error };\n    }\n\n    // Insert profile after successful signup\n    if (data.user) {\n      const { error: profileError } = await supabase\n        .from('profiles')\n        .insert({\n          id: data.user.id,\n          full_name: fullName,\n          onboarding_completed: false\n        });\n\n      if (profileError) {\n        return { error: profileError };\n      }\n    }\n\n    return { error: null };\n  };\n\n  const signIn = async (email: string, password: string) => {\n    const { data, error } = await supabase.auth.signInWithPassword({\n      email,\n      password\n    });\n\n    if (error) {\n      return { error };\n    }\n\n    // Fetch profile and migrate data for existing users\n    if (data.user) {\n      // Run data migration for existing users\n      migrateUserData(data.user.id);\n\n      const profileData = await fetchProfile(data.user.id);\n      return {\n        error: null,\n        onboardingCompleted: profileData?.onboarding_completed ?? false\n      };\n    }\n\n    return { error: null, onboardingCompleted: false };\n  };\n\n  const signOut = async () => {\n    // NOTE: We no longer clear dashboard data on sign out.\n    // This preserves user data between sessions so existing users\n    // see their data immediately when they log back in.\n    // Data is only cleared on NEW user sign up.\n    await supabase.auth.signOut();\n    setUser(null);\n    setSession(null);\n    setProfile(null);\n  };\n\n  return (\n    <AuthContext.Provider value={{\n      user,\n      session,\n      profile,\n      loading,\n      signUp,\n      signIn,\n      signOut,\n      refreshProfile\n    }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\n","usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\contexts\\FocusTimerContext.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":38,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":38,"endColumn":30},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'handleTimerComplete'. Either include it or remove the dependency array.","line":104,"column":8,"nodeType":"ArrayExpression","endLine":104,"endColumn":34,"suggestions":[{"desc":"Update the dependencies array to be: [handleTimerComplete, isRunning, timeRemaining]","fix":{"range":[3465,3491],"text":"[handleTimerComplete, isRunning, timeRemaining]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useCallback has a missing dependency: 'markTaskComplete'. Either include it or remove the dependency array.","line":130,"column":8,"nodeType":"ArrayExpression","endLine":130,"endColumn":76,"suggestions":[{"desc":"Update the dependencies array to be: [mode, logFocusSession, completeSession, currentTask, totalDuration, markTaskComplete]","fix":{"range":[4365,4433],"text":"[mode, logFocusSession, completeSession, currentTask, totalDuration, markTaskComplete]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useCallback has a missing dependency: 'markTaskComplete'. Either include it or remove the dependency array.","line":175,"column":8,"nodeType":"ArrayExpression","endLine":175,"endColumn":85,"suggestions":[{"desc":"Update the dependencies array to be: [totalDuration, timeRemaining, currentTask, logFocusSession, completeSession, markTaskComplete]","fix":{"range":[5826,5903],"text":"[totalDuration, timeRemaining, currentTask, logFocusSession, completeSession, markTaskComplete]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { createContext, useContext, useState, useEffect, useCallback, useRef } from 'react';\r\nimport { useFocusSessions } from '@/hooks/useFocusSessions';\r\nimport { useAnalytics } from '@/hooks/useAnalytics';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { getUserStorageKey } from '@/lib/userStorage';\r\n\r\ninterface FocusTask {\r\n    id: string;\r\n    title: string;\r\n    duration: number;\r\n    completed: boolean;\r\n}\r\n\r\ninterface FocusTimerContextType {\r\n    // Timer state\r\n    isRunning: boolean;\r\n    timeRemaining: number;\r\n    totalDuration: number;\r\n    currentTask: FocusTask | null;\r\n    mode: 'focus' | 'pomodoro-work' | 'pomodoro-break';\r\n    pomodoroCount: number;\r\n\r\n    // Actions\r\n    startTimer: (duration: number, task?: FocusTask, mode?: 'focus' | 'pomodoro-work') => void;\r\n    pauseTimer: () => void;\r\n    resumeTimer: () => void;\r\n    resetTimer: () => void;\r\n    finishEarly: () => void;\r\n\r\n    // Task management\r\n    focusTasks: FocusTask[];\r\n    setFocusTasks: (tasks: FocusTask[]) => void;\r\n    markTaskComplete: (taskId: string) => void;\r\n}\r\n\r\nconst FocusTimerContext = createContext<FocusTimerContextType | null>(null);\r\n\r\nexport function useFocusTimer() {\r\n    const context = useContext(FocusTimerContext);\r\n    if (!context) {\r\n        throw new Error('useFocusTimer must be used within a FocusTimerProvider');\r\n    }\r\n    return context;\r\n}\r\n\r\ninterface FocusTimerProviderProps {\r\n    children: React.ReactNode;\r\n}\r\n\r\nexport function FocusTimerProvider({ children }: FocusTimerProviderProps) {\r\n    const { user } = useAuth();\r\n    const { startSession, completeSession, cancelSession } = useFocusSessions(user?.id);\r\n    const { logFocusSession } = useAnalytics(user?.id);\r\n\r\n    const [isRunning, setIsRunning] = useState(false);\r\n    const [timeRemaining, setTimeRemaining] = useState(0);\r\n    const [totalDuration, setTotalDuration] = useState(0);\r\n    const [currentTask, setCurrentTask] = useState<FocusTask | null>(null);\r\n    const [mode, setMode] = useState<'focus' | 'pomodoro-work' | 'pomodoro-break'>('focus');\r\n    const [pomodoroCount, setPomodoroCount] = useState(0);\r\n    const [focusTasks, setFocusTasks] = useState<FocusTask[]>([]);\r\n\r\n    const intervalRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n    // Load tasks from localStorage\r\n    useEffect(() => {\r\n        const key = getUserStorageKey('aligned_focus_tasks', user?.id);\r\n        const savedTasks = localStorage.getItem(key);\r\n        if (savedTasks) {\r\n            try {\r\n                setFocusTasks(JSON.parse(savedTasks));\r\n            } catch {\r\n                setFocusTasks([]);\r\n            }\r\n        } else {\r\n            setFocusTasks([]);\r\n        }\r\n    }, [user?.id]);\r\n\r\n    // Timer tick\r\n    useEffect(() => {\r\n        if (isRunning && timeRemaining > 0) {\r\n            intervalRef.current = setInterval(() => {\r\n                setTimeRemaining(prev => {\r\n                    if (prev <= 1) {\r\n                        handleTimerComplete();\r\n                        return 0;\r\n                    }\r\n                    return prev - 1;\r\n                });\r\n            }, 1000);\r\n        } else {\r\n            if (intervalRef.current) {\r\n                clearInterval(intervalRef.current);\r\n                intervalRef.current = null;\r\n            }\r\n        }\r\n\r\n        return () => {\r\n            if (intervalRef.current) {\r\n                clearInterval(intervalRef.current);\r\n            }\r\n        };\r\n    }, [isRunning, timeRemaining]);\r\n\r\n    const handleTimerComplete = useCallback(() => {\r\n        setIsRunning(false);\r\n\r\n        if (mode === 'pomodoro-work') {\r\n            setPomodoroCount(prev => prev + 1);\r\n            logFocusSession(25);\r\n            completeSession(25);\r\n            setMode('pomodoro-break');\r\n            setTimeRemaining(5 * 60);\r\n            setTotalDuration(5 * 60);\r\n        } else if (mode === 'pomodoro-break') {\r\n            setMode('pomodoro-work');\r\n            setTimeRemaining(25 * 60);\r\n            setTotalDuration(25 * 60);\r\n        } else {\r\n            const minutes = currentTask?.duration || Math.round(totalDuration / 60);\r\n            logFocusSession(minutes);\r\n            completeSession(minutes);\r\n\r\n            if (currentTask) {\r\n                markTaskComplete(currentTask.id);\r\n                setCurrentTask(null);\r\n            }\r\n        }\r\n    }, [mode, currentTask, totalDuration, logFocusSession, completeSession]);\r\n\r\n    const startTimer = useCallback((duration: number, task?: FocusTask, timerMode: 'focus' | 'pomodoro-work' = 'focus') => {\r\n        const durationSeconds = duration * 60;\r\n        setTimeRemaining(durationSeconds);\r\n        setTotalDuration(durationSeconds);\r\n        setCurrentTask(task || null);\r\n        setMode(timerMode);\r\n        setIsRunning(true);\r\n        startSession(duration, timerMode === 'pomodoro-work' ? 'pomodoro' : 'focus');\r\n    }, [startSession]);\r\n\r\n    const pauseTimer = useCallback(() => {\r\n        setIsRunning(false);\r\n    }, []);\r\n\r\n    const resumeTimer = useCallback(() => {\r\n        setIsRunning(true);\r\n    }, []);\r\n\r\n    const resetTimer = useCallback(() => {\r\n        setIsRunning(false);\r\n        setTimeRemaining(0);\r\n        setTotalDuration(0);\r\n        setCurrentTask(null);\r\n        cancelSession();\r\n    }, [cancelSession]);\r\n\r\n    const finishEarly = useCallback(() => {\r\n        const elapsed = totalDuration - timeRemaining;\r\n        const minutesFocused = Math.round(elapsed / 60);\r\n\r\n        if (minutesFocused > 0) {\r\n            logFocusSession(minutesFocused);\r\n            completeSession(minutesFocused);\r\n        }\r\n\r\n        if (currentTask) {\r\n            markTaskComplete(currentTask.id);\r\n        }\r\n\r\n        setIsRunning(false);\r\n        setTimeRemaining(0);\r\n        setTotalDuration(0);\r\n        setCurrentTask(null);\r\n    }, [totalDuration, timeRemaining, currentTask, logFocusSession, completeSession]);\r\n\r\n    const markTaskComplete = useCallback((taskId: string) => {\r\n        setFocusTasks(prev => {\r\n            const updated = prev.map(t =>\r\n                t.id === taskId ? { ...t, completed: true } : t\r\n            );\r\n            const key = getUserStorageKey('aligned_focus_tasks', user?.id);\r\n            localStorage.setItem(key, JSON.stringify(updated));\r\n            return updated;\r\n        });\r\n    }, [user?.id]);\r\n\r\n    const value: FocusTimerContextType = {\r\n        isRunning,\r\n        timeRemaining,\r\n        totalDuration,\r\n        currentTask,\r\n        mode,\r\n        pomodoroCount,\r\n        startTimer,\r\n        pauseTimer,\r\n        resumeTimer,\r\n        resetTimer,\r\n        finishEarly,\r\n        focusTasks,\r\n        setFocusTasks,\r\n        markTaskComplete,\r\n    };\r\n\r\n    return (\r\n        <FocusTimerContext.Provider value={value}>\r\n            {children}\r\n        </FocusTimerContext.Provider>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\contexts\\UserContext.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":20,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":20,"endColumn":26}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createContext, useContext, ReactNode } from 'react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\n\r\ninterface UserContextType {\r\n    userId: string | undefined;\r\n}\r\n\r\nconst UserContext = createContext<UserContextType>({ userId: undefined });\r\n\r\nexport function UserProvider({ children }: { children: ReactNode }) {\r\n    const { user } = useAuth();\r\n\r\n    return (\r\n        <UserContext.Provider value={{ userId: user?.id }}>\r\n            {children}\r\n        </UserContext.Provider>\r\n    );\r\n}\r\n\r\nexport function useUserId() {\r\n    const context = useContext(UserContext);\r\n    return context.userId;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\data\\blogPostsData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\hooks\\use-mobile.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\hooks\\use-toast.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\hooks\\useAIInsights.ts","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchInsights'. Either include it or remove the dependency array.","line":431,"column":6,"nodeType":"ArrayExpression","endLine":431,"endColumn":14,"suggestions":[{"desc":"Update the dependencies array to be: [fetchInsights, userId]","fix":{"range":[16144,16152],"text":"[fetchInsights, userId]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\hooks\\useAnalytics.ts","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'analytics'. Either include it or remove the dependency array.","line":222,"column":8,"nodeType":"ArrayExpression","endLine":222,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [analytics, userId]","fix":{"range":[7324,7332],"text":"[analytics, userId]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useCallback } from 'react';\r\nimport { getUserStorageKey } from '@/lib/userStorage';\r\n\r\n// Types for analytics data\r\ninterface DailyActivity {\r\n    date: string;\r\n    focusSessions: number;\r\n    focusMinutes: number;\r\n    tasksCompleted: number;\r\n    tasksTotal: number;\r\n    moodCheckin: 'great' | 'okay' | 'low' | null;\r\n    energyCheckin: 'high' | 'medium' | 'low' | null;\r\n    habitsCompleted: number;\r\n    habitsTotal: number;\r\n}\r\n\r\ninterface AnalyticsData {\r\n    dailyActivities: Record<string, DailyActivity>;\r\n    currentStreak: number;\r\n    longestStreak: number;\r\n    totalFocusMinutes: number;\r\n    totalTasksCompleted: number;\r\n    totalFocusSessions: number;\r\n}\r\n\r\nconst ANALYTICS_KEY = 'aligned_analytics';\r\nconst MOOD_KEY = 'aligned_mood_energy';\r\n\r\nfunction getDefaultDailyActivity(date: string): DailyActivity {\r\n    return {\r\n        date,\r\n        focusSessions: 0,\r\n        focusMinutes: 0,\r\n        tasksCompleted: 0,\r\n        tasksTotal: 0,\r\n        moodCheckin: null,\r\n        energyCheckin: null,\r\n        habitsCompleted: 0,\r\n        habitsTotal: 0,\r\n    };\r\n}\r\n\r\nfunction getTodayKey(): string {\r\n    return new Date().toISOString().split('T')[0];\r\n}\r\n\r\nfunction getLastNDays(n: number): string[] {\r\n    const days: string[] = [];\r\n    for (let i = n - 1; i >= 0; i--) {\r\n        const date = new Date();\r\n        date.setDate(date.getDate() - i);\r\n        days.push(date.toISOString().split('T')[0]);\r\n    }\r\n    return days;\r\n}\r\n\r\nfunction getDefaultAnalytics(): AnalyticsData {\r\n    return {\r\n        dailyActivities: {},\r\n        currentStreak: 0,\r\n        longestStreak: 0,\r\n        totalFocusMinutes: 0,\r\n        totalTasksCompleted: 0,\r\n        totalFocusSessions: 0,\r\n    };\r\n}\r\n\r\nfunction loadAnalytics(userId?: string): AnalyticsData {\r\n    const key = getUserStorageKey(ANALYTICS_KEY, userId);\r\n    const stored = localStorage.getItem(key);\r\n    if (!stored) {\r\n        return getDefaultAnalytics();\r\n    }\r\n    try {\r\n        return JSON.parse(stored);\r\n    } catch {\r\n        return getDefaultAnalytics();\r\n    }\r\n}\r\n\r\nfunction saveAnalytics(data: AnalyticsData, userId?: string): void {\r\n    const key = getUserStorageKey(ANALYTICS_KEY, userId);\r\n    localStorage.setItem(key, JSON.stringify(data));\r\n}\r\n\r\nfunction calculateStreak(dailyActivities: Record<string, DailyActivity>): number {\r\n    let streak = 0;\r\n    const today = new Date();\r\n\r\n    for (let i = 0; i < 365; i++) {\r\n        const date = new Date(today);\r\n        date.setDate(date.getDate() - i);\r\n        const dateKey = date.toISOString().split('T')[0];\r\n        const activity = dailyActivities[dateKey];\r\n\r\n        // Count as active day if there's any meaningful activity\r\n        const isActiveDay = activity && (\r\n            activity.focusSessions > 0 ||\r\n            activity.tasksCompleted > 0 ||\r\n            activity.moodCheckin !== null ||\r\n            activity.habitsCompleted > 0\r\n        );\r\n\r\n        if (isActiveDay) {\r\n            streak++;\r\n        } else if (i > 0) {\r\n            // Allow skipping today but not past days\r\n            break;\r\n        }\r\n    }\r\n\r\n    return streak;\r\n}\r\n\r\nfunction calculateIdentityScore(dailyActivities: Record<string, DailyActivity>): number {\r\n    // Calculate score based on TODAY's activity only - resets to 0% at start of each day\r\n    const todayKey = getTodayKey();\r\n    const todayActivity = dailyActivities[todayKey];\r\n\r\n    // If no activity today, return 0%\r\n    if (!todayActivity) return 0;\r\n\r\n    let totalActions = 0;\r\n    let completedActions = 0;\r\n\r\n    // Only count tasks if user has set tasks for today\r\n    if (todayActivity.tasksTotal > 0) {\r\n        totalActions += todayActivity.tasksTotal;\r\n        completedActions += todayActivity.tasksCompleted;\r\n    }\r\n\r\n    // Only count habits if user has set habits for today\r\n    if (todayActivity.habitsTotal > 0) {\r\n        totalActions += todayActivity.habitsTotal;\r\n        completedActions += todayActivity.habitsCompleted;\r\n    }\r\n\r\n    // Daily check-in counts as a completed action\r\n    if (todayActivity.moodCheckin) {\r\n        totalActions += 1;\r\n        completedActions += 1;\r\n    }\r\n\r\n    // Focus sessions count as completed actions\r\n    if (todayActivity.focusSessions > 0) {\r\n        totalActions += todayActivity.focusSessions;\r\n        completedActions += todayActivity.focusSessions;\r\n    }\r\n\r\n    // If user has no planned actions today, return 0\r\n    if (totalActions === 0) return 0;\r\n\r\n    // Cap at 100% to prevent over-completion display\r\n    return Math.min(100, Math.round((completedActions / totalActions) * 100));\r\n}\r\n\r\nexport function useAnalytics(userId?: string) {\r\n    const [analytics, setAnalytics] = useState<AnalyticsData>(() => loadAnalytics(userId));\r\n    const [identityScore, setIdentityScore] = useState<number>(0);\r\n\r\n    // Reload data when userId changes\r\n    useEffect(() => {\r\n        const newData = loadAnalytics(userId);\r\n        setAnalytics(newData);\r\n    }, [userId]);\r\n\r\n    // Listen for storage changes from other components\r\n    useEffect(() => {\r\n        const handleStorageChange = () => {\r\n            const newData = loadAnalytics(userId);\r\n            setAnalytics(newData);\r\n        };\r\n\r\n        // Listen for custom analytics update event\r\n        window.addEventListener('analytics-updated', handleStorageChange);\r\n\r\n        // Also listen for storage events from other tabs\r\n        window.addEventListener('storage', (e) => {\r\n            if (e.key === ANALYTICS_KEY) {\r\n                handleStorageChange();\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            window.removeEventListener('analytics-updated', handleStorageChange);\r\n            window.removeEventListener('storage', handleStorageChange);\r\n        };\r\n    }, [userId]);\r\n\r\n    // Sync mood data from mood tracker\r\n    useEffect(() => {\r\n        const moodKey = getUserStorageKey(MOOD_KEY, userId);\r\n        const moodData = localStorage.getItem(moodKey);\r\n        if (moodData) {\r\n            try {\r\n                const parsed = JSON.parse(moodData);\r\n                const updated = { ...analytics };\r\n                let hasChanges = false;\r\n\r\n                for (const [date, data] of Object.entries(parsed)) {\r\n                    const moodEntry = data as { mood: 'great' | 'okay' | 'low'; energy: 'high' | 'medium' | 'low' };\r\n                    if (!updated.dailyActivities[date]) {\r\n                        updated.dailyActivities[date] = getDefaultDailyActivity(date);\r\n                    }\r\n                    if (updated.dailyActivities[date].moodCheckin !== moodEntry.mood) {\r\n                        updated.dailyActivities[date].moodCheckin = moodEntry.mood;\r\n                        updated.dailyActivities[date].energyCheckin = moodEntry.energy;\r\n                        hasChanges = true;\r\n                    }\r\n                }\r\n\r\n                if (hasChanges) {\r\n                    updated.currentStreak = calculateStreak(updated.dailyActivities);\r\n                    updated.longestStreak = Math.max(updated.longestStreak, updated.currentStreak);\r\n                    saveAnalytics(updated, userId);\r\n                    setAnalytics(updated);\r\n                }\r\n            } catch (e) {\r\n                console.error('Error syncing mood data:', e);\r\n            }\r\n        }\r\n    }, [userId]);\r\n\r\n    // Calculate identity score\r\n    useEffect(() => {\r\n        const score = calculateIdentityScore(analytics.dailyActivities);\r\n        setIdentityScore(score);\r\n    }, [analytics]);\r\n\r\n    const logFocusSession = useCallback((minutes: number) => {\r\n        const todayKey = getTodayKey();\r\n        const currentData = loadAnalytics(userId);\r\n        const updated = { ...currentData };\r\n\r\n        if (!updated.dailyActivities[todayKey]) {\r\n            updated.dailyActivities[todayKey] = getDefaultDailyActivity(todayKey);\r\n        }\r\n\r\n        updated.dailyActivities[todayKey].focusSessions++;\r\n        updated.dailyActivities[todayKey].focusMinutes += minutes;\r\n        updated.totalFocusSessions++;\r\n        updated.totalFocusMinutes += minutes;\r\n        updated.currentStreak = calculateStreak(updated.dailyActivities);\r\n        updated.longestStreak = Math.max(updated.longestStreak, updated.currentStreak);\r\n\r\n        saveAnalytics(updated, userId);\r\n        setAnalytics(updated);\r\n\r\n        // Dispatch event to notify other components\r\n        window.dispatchEvent(new CustomEvent('analytics-updated'));\r\n    }, [userId]);\r\n\r\n    const logTaskComplete = useCallback((totalTasks: number = 3) => {\r\n        const todayKey = getTodayKey();\r\n        const currentData = loadAnalytics(userId);\r\n        const updated = { ...currentData };\r\n\r\n        if (!updated.dailyActivities[todayKey]) {\r\n            updated.dailyActivities[todayKey] = getDefaultDailyActivity(todayKey);\r\n        }\r\n\r\n        updated.dailyActivities[todayKey].tasksCompleted++;\r\n        updated.dailyActivities[todayKey].tasksTotal = totalTasks;\r\n        updated.totalTasksCompleted++;\r\n        updated.currentStreak = calculateStreak(updated.dailyActivities);\r\n        updated.longestStreak = Math.max(updated.longestStreak, updated.currentStreak);\r\n\r\n        saveAnalytics(updated, userId);\r\n        setAnalytics(updated);\r\n        window.dispatchEvent(new CustomEvent('analytics-updated'));\r\n    }, [userId]);\r\n\r\n    const logHabitComplete = useCallback((totalHabits: number = 4) => {\r\n        const todayKey = getTodayKey();\r\n        const currentData = loadAnalytics(userId);\r\n        const updated = { ...currentData };\r\n\r\n        if (!updated.dailyActivities[todayKey]) {\r\n            updated.dailyActivities[todayKey] = getDefaultDailyActivity(todayKey);\r\n        }\r\n\r\n        updated.dailyActivities[todayKey].habitsCompleted++;\r\n        updated.dailyActivities[todayKey].habitsTotal = totalHabits;\r\n        updated.currentStreak = calculateStreak(updated.dailyActivities);\r\n        updated.longestStreak = Math.max(updated.longestStreak, updated.currentStreak);\r\n\r\n        saveAnalytics(updated, userId);\r\n        setAnalytics(updated);\r\n        window.dispatchEvent(new CustomEvent('analytics-updated'));\r\n    }, [userId]);\r\n\r\n    const getWeeklyData = useCallback(() => {\r\n        const last7Days = getLastNDays(7);\r\n        return last7Days.map(date => {\r\n            const activity = analytics.dailyActivities[date] || getDefaultDailyActivity(date);\r\n            const dayName = new Date(date).toLocaleDateString('en-US', { weekday: 'short' });\r\n            return {\r\n                day: dayName,\r\n                date,\r\n                focusMinutes: activity.focusMinutes,\r\n                tasksCompleted: activity.tasksCompleted,\r\n                habitsCompleted: activity.habitsCompleted,\r\n                mood: activity.moodCheckin,\r\n                energy: activity.energyCheckin,\r\n            };\r\n        });\r\n    }, [analytics]);\r\n\r\n    return {\r\n        analytics,\r\n        identityScore,\r\n        logFocusSession,\r\n        logTaskComplete,\r\n        logHabitComplete,\r\n        getWeeklyData,\r\n    };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\hooks\\useFeedback.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\hooks\\useFocusSessions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\hooks\\useGoals.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\hooks\\useJournal.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\hooks\\useNotifications.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\hooks\\useScrollReveal.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\lib\\clearDashboardData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\lib\\dataMigration.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\lib\\supabase.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\lib\\userStorage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\main.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\pages\\AboutUs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\pages\\Blog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\pages\\BlogPost.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\pages\\Careers.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\pages\\ContactUs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\pages\\CookiePolicy.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\pages\\Dashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\pages\\Feedback.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\pages\\Index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\pages\\Login.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\pages\\NotFound.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\pages\\PrivacyPolicy.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\pages\\Signup.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\pages\\TermsConditions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\pages\\onboarding\\Step1.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\pages\\onboarding\\Step2.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\pages\\onboarding\\Step3.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\pages\\onboarding\\Step4.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\pages\\onboarding\\Step5.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\pages\\onboarding\\Step6.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\pages\\onboarding\\Step7.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\src\\vite-env.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\supabase\\functions\\analyze-onboarding\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\tailwind.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\aligned-your-personal-os-main\\vite.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
